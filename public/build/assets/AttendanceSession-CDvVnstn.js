import{d as xe,r as g,u as te,c as X,a as p,o as f,b as t,e as s,h as ye,w as a,f as n,k as x,t as d,i as r,A as ae,F as N,g as z,j as V}from"./app-DW-4G1vZ.js";import{F as he,_ as be}from"./AppLayout.vue_vue_type_script_setup_true_lang-BS7ImaE2.js";import{_ as k,b as S,c as C,a as R,d as we}from"./CardTitle.vue_vue_type_script_setup_true_lang-BcDEr4TB.js";import{_ as E}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-T0P3N6mj.js";import{_ as B}from"./index-r1g3ib2J.js";import{E as ke,_ as Se,a as Ce,b as G,c as J,S as Re,Q as $e,d as ne,e as le,f as Fe}from"./browser-Qmw0utpk.js";import{_ as oe}from"./Input.vue_vue_type_script_setup_true_lang-DnmVy0AL.js";import{_ as O}from"./Label.vue_vue_type_script_setup_true_lang-PYw3eRzO.js";import{_ as Ae,a as Ee,b as je,c as Qe,d as D}from"./SelectValue.vue_vue_type_script_setup_true_lang-DqZ9_JK4.js";import{_ as Ue,a as Pe,b as Te,c as qe,d as Ne}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B2g3MDQd.js";import{C as Ve}from"./clock-DQA8MFeI.js";import{U as Oe}from"./users-BhZaHBdP.js";import{C as j}from"./circle-check-big-BJq8CkBX.js";import{C as K}from"./circle-x-DdLfTClc.js";import{Q as re}from"./qr-code-DtmqAAPy.js";import{U as De}from"./user--A7oqBxk.js";import{U as H}from"./upload-HiPImnlX.js";import{L as de}from"./loader-circle-rDvplQIg.js";import"./useForwardExpose-CYdwRePy.js";import"./RovingFocusGroup-Dsi-dyvh.js";import"./vue-qrcode-reader-DmduyMv5.js";import"./RovingFocusItem-Jd1FEocZ.js";import"./Textarea.vue_vue_type_script_setup_true_lang-CjQRaqiI.js";import"./zap-DjVR6z_V.js";import"./circle-alert-BcdFzL-g.js";import"./hash-1DI9CPPd.js";import"./calendar-hrTOBv_O.js";import"./check-DCQm1Fl6.js";const Me={class:"py-12"},Ie={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Le={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Xe={class:"p-6"},ze={class:"flex items-center justify-between"},Be={class:"text-2xl font-bold text-gray-900"},Ge={class:"text-gray-600"},Je={class:"ml-2"},Ke={class:"flex gap-3"},He={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},We={class:"text-2xl font-bold"},Ye={class:"text-2xl font-bold text-green-600"},Ze={class:"text-2xl font-bold text-red-600"},es={class:"text-sm font-medium"},ss={class:"w-full bg-gray-200 rounded-full h-2"},ts={class:"text-center"},as={class:"grid gap-4 md:grid-cols-2"},ns={class:"space-y-2"},ls={class:"space-y-2"},os={class:"space-y-2"},rs={class:"space-y-2"},ds={class:"mt-1"},is={key:0,class:"space-y-2"},us={class:"flex items-center space-x-2 flex-1 min-w-0"},cs={class:"min-w-0 flex-1"},fs={class:"text-sm font-medium truncate"},ms={class:"text-xs text-gray-500"},_s={key:0,class:"space-y-2"},ps={class:"flex items-center justify-between text-sm"},vs={class:"w-full bg-gray-200 rounded-full h-2"},gs={key:1,class:"p-3 bg-red-50 border border-red-200 rounded-md"},xs={class:"text-sm text-red-600"},ys={key:2,class:"p-3 bg-green-50 border border-green-200 rounded-md"},hs={class:"text-sm text-green-600"},bs={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ws={class:"space-y-3 max-h-96 overflow-y-auto"},ks={class:"flex-1 min-w-0"},Ss={class:"font-medium text-gray-900 truncate"},Cs={class:"text-sm text-green-700 font-mono"},Rs={key:0,class:"text-center py-8 text-muted-foreground"},$s={class:"space-y-3 max-h-96 overflow-y-auto"},Fs={class:"flex-1 min-w-0"},As={class:"font-medium text-gray-900 truncate"},Es={class:"text-sm text-red-700 font-mono"},js={key:0,class:"text-center py-8 text-muted-foreground"},Qs={class:"flex flex-col items-center space-y-4"},Us={class:"bg-white p-4 rounded-lg border-2 border-gray-200"},Ps={class:"w-48 h-48 flex items-center justify-center"},Ts=["src"],qs={key:1,class:"text-center"},Ns={class:"text-center"},Vs={class:"text-sm font-medium"},Os={class:"text-xs text-muted-foreground"},Ds={key:0,class:"fixed bottom-4 right-4 z-50"},Ms={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Is={class:"bg-white p-6 rounded-lg flex items-center gap-3"},gt=xe({__name:"AttendanceSession",props:{teacher:{},session:{},students:{},attendance_records:{}},setup(ie){const u=ie,M=g(!1),P=g(!1),y=g(null),v=g(""),$=g(!1),T=g(""),W=g("qr-code"),m=te({student_id:"",name:"",status:"present",method:"manual"}),b=g([]),w=g(0),F=g(""),A=g(!1),Q=g(""),Y=g(null),ue=()=>{M.value=!0,v.value="",y.value=null},Z=()=>{M.value=!1},ce=async()=>{if(u.session.qr_code&&!T.value)try{T.value=await Fe.toDataURL(u.session.qr_code,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})}catch(o){console.error("Failed to generate QR code:",o)}P.value=!0},fe=()=>{P.value=!1},me=async o=>{var e;console.log("QR scan successful:",o),$.value=!0,v.value="";try{const _=document.querySelector('meta[name="csrf-token"]');let l=_==null?void 0:_.getAttribute("content");if(!l){console.warn("CSRF token not found, attempting to refresh...");const h=await fetch(window.location.href,{method:"GET",headers:{Accept:"text/html"}});if(h.ok){const se=(await h.text()).match(/name="csrf-token" content="([^"]*)"/);l=se?se[1]:null}}if(!l)throw new Error("Unable to get CSRF token. Please refresh the page.");console.log("Making QR scan request with token:",!!l);const i=await fetch(`/teacher/attendance/${u.session.id}/qr-scan`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":l,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify({qr_data:JSON.stringify(o)})});if(console.log("Response status:",i.status),console.log("Response headers:",Object.fromEntries(i.headers.entries())),!i.ok){let h=`HTTP ${i.status}`;try{h=(await i.json()).message||h}catch{const L=await i.text();console.error("Error response text:",L),h=i.status===419?"CSRF token expired. Please refresh the page.":h}throw new Error(h)}const c=await i.json();console.log("QR scan result:",c),c.success?(y.value=c.student,v.value="",(e=c.student)!=null&&e.id&&!u.attendance_records.includes(c.student.id)&&u.attendance_records.push(c.student.id),setTimeout(()=>{Z(),y.value=null},2e3)):v.value=c.message||"Failed to mark attendance"}catch(_){console.error("Error marking attendance:",_),v.value=_ instanceof Error?_.message:"Network error. Please try again."}finally{$.value=!1}},_e=async()=>{var o;if(!m.student_id&&!m.name){v.value="Please enter student ID or name";return}$.value=!0,v.value="",y.value=null;try{let e="",_=null;if(m.student_id?(e=m.student_id,_=u.students.find(c=>c.student_id===m.student_id)):m.name&&(_=u.students.find(c=>c.name.toLowerCase().includes(m.name.toLowerCase())),_&&(e=_.student_id)),!e){v.value="Student not found in this class";return}const i=await(await fetch(`/teacher/attendance/${u.session.id}/mark`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},body:JSON.stringify({student_id:e,status:m.status,method:m.method})})).json();if(i.success){const c=i.student;c&&!u.attendance_records.includes(c.id)&&u.attendance_records.push(c.id),y.value=c||_||{name:m.name||m.student_id},m.reset(),setTimeout(()=>{y.value=null},3e3)}else v.value=i.message||"Failed to mark attendance"}catch(e){console.error("Error marking attendance:",e),v.value="Network error. Please try again."}finally{$.value=!1}},pe=o=>{const e=o.target;e.files&&(b.value=Array.from(e.files))},ve=async()=>{var o;if(b.value.length===0){F.value="Please select a file to upload";return}A.value=!0,w.value=0,F.value="",Q.value="";try{const e=new FormData;e.append("session_id",String(u.session.id)),b.value.forEach(c=>{e.append("file",c)});const _=setInterval(()=>{w.value<90&&(w.value+=Math.random()*10)},200),l=await fetch(`/teacher/attendance/${u.session.id}/upload`,{method:"POST",headers:{Accept:"application/json","X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""},body:e});clearInterval(_),w.value=100;const i=await l.json();i.success?(Q.value=`${i.processed||0} attendance records processed successfully.`,i.records&&Array.isArray(i.records)&&i.records.forEach(c=>{u.attendance_records.includes(c.student_id)||u.attendance_records.push(c.student_id)}),b.value=[],setTimeout(()=>{w.value=0,Q.value=""},5e3)):F.value=i.message||"Failed to process attendance file"}catch(e){console.error("Error uploading attendance file:",e),F.value="Network error. Please try again."}finally{A.value=!1}},I=te({}),ge=()=>{I.put(`/teacher/attendance/sessions/${u.session.id}/end`,{onSuccess:()=>{console.log("Session ended successfully")},onError:o=>{console.error("Error ending session:",o),alert("Failed to end session: "+(o.message||"Unknown error"))}})},U=X(()=>u.students.filter(o=>u.attendance_records.some(e=>e.student_id===o.id&&e.status==="present"))),q=X(()=>u.students.filter(o=>!u.attendance_records.some(e=>e.student_id===o.id))),ee=X(()=>u.students.length===0?0:Math.round(U.value.length/u.students.length*100));return(o,e)=>(f(),p(N,null,[t(s(ye),{title:`Attendance Session - ${o.session.session_name}`},null,8,["title"]),t(be,null,{default:a(()=>{var _;return[n("div",Me,[n("div",Ie,[n("div",Le,[n("div",Xe,[n("div",ze,[n("div",null,[n("h1",Be,d(o.session.session_name),1),n("p",Ge,[r(d(((_=o.session.class)==null?void 0:_.name)||"Class")+" • "+d(o.session.session_date)+" ",1),n("span",Je,[t(s(B),{variant:o.session.status==="active"?"default":"secondary"},{default:a(()=>[r(d(o.session.status),1)]),_:1},8,["variant"])])])]),n("div",Ke,[t(s(E),{onClick:ce,disabled:o.session.status!=="active"},{default:a(()=>[t(s(ke),{class:"h-4 w-4 mr-2"}),e[6]||(e[6]=r(" Show QR Code ",-1))]),_:1,__:[6]},8,["disabled"]),t(s(E),{variant:"outline",onClick:ge,disabled:s(I).processing||o.session.status!=="active"},{default:a(()=>[t(s(Ve),{class:"h-4 w-4 mr-2"}),r(" "+d(s(I).processing?"Ending...":"End Session"),1)]),_:1},8,["disabled"])])])])]),n("div",He,[t(s(k),null,{default:a(()=>[t(s(S),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[t(s(C),{class:"text-sm font-medium"},{default:a(()=>e[7]||(e[7]=[r("Total Students",-1)])),_:1,__:[7]}),t(s(Oe),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(s(R),null,{default:a(()=>[n("div",We,d(o.students.length),1)]),_:1})]),_:1}),t(s(k),null,{default:a(()=>[t(s(S),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[t(s(C),{class:"text-sm font-medium"},{default:a(()=>e[8]||(e[8]=[r("Present",-1)])),_:1,__:[8]}),t(s(j),{class:"h-4 w-4 text-green-600"})]),_:1}),t(s(R),null,{default:a(()=>[n("div",Ye,d(U.value.length),1)]),_:1})]),_:1}),t(s(k),null,{default:a(()=>[t(s(S),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[t(s(C),{class:"text-sm font-medium"},{default:a(()=>e[9]||(e[9]=[r("Absent",-1)])),_:1,__:[9]}),t(s(K),{class:"h-4 w-4 text-red-600"})]),_:1}),t(s(R),null,{default:a(()=>[n("div",Ze,d(q.value.length),1)]),_:1})]),_:1}),t(s(k),null,{default:a(()=>[t(s(S),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[t(s(C),{class:"text-sm font-medium"},{default:a(()=>e[10]||(e[10]=[r("Attendance Rate",-1)])),_:1,__:[10]}),n("div",es,d(ee.value)+"%",1)]),_:1}),t(s(R),null,{default:a(()=>[n("div",ss,[n("div",{class:"bg-green-600 h-2 rounded-full transition-all duration-300",style:ae({width:`${ee.value}%`})},null,4)])]),_:1})]),_:1})]),t(s(k),{class:"mb-6"},{default:a(()=>[t(s(S),null,{default:a(()=>[t(s(C),null,{default:a(()=>e[11]||(e[11]=[r("Attendance Management",-1)])),_:1,__:[11]}),t(s(we),null,{default:a(()=>e[12]||(e[12]=[r(" Mark attendance using any of the available methods ",-1)])),_:1,__:[12]})]),_:1}),t(s(R),null,{default:a(()=>[t(s(Se),{value:W.value,"onUpdate:value":e[4]||(e[4]=l=>W.value=l),class:"w-full"},{default:a(()=>[t(s(Ce),{class:"grid grid-cols-3 mb-4"},{default:a(()=>[t(s(G),{value:"qr-code",class:"flex items-center gap-2"},{default:a(()=>[t(s(re),{class:"h-4 w-4"}),e[13]||(e[13]=n("span",null,"QR Scanner",-1))]),_:1,__:[13]}),t(s(G),{value:"manual-input",class:"flex items-center gap-2"},{default:a(()=>[t(s(De),{class:"h-4 w-4"}),e[14]||(e[14]=n("span",null,"Manual Input",-1))]),_:1,__:[14]}),t(s(G),{value:"file-upload",class:"flex items-center gap-2"},{default:a(()=>[t(s(H),{class:"h-4 w-4"}),e[15]||(e[15]=n("span",null,"File Upload",-1))]),_:1,__:[15]})]),_:1}),t(s(J),{value:"qr-code",class:"space-y-4"},{default:a(()=>[n("div",ts,[t(s(E),{onClick:ue,size:"lg",class:"flex items-center gap-2"},{default:a(()=>[t(s(Re),{class:"h-5 w-5"}),e[16]||(e[16]=r(" Open QR Scanner ",-1))]),_:1,__:[16]}),e[17]||(e[17]=n("p",{class:"text-sm text-gray-500 mt-2"}," Scan student QR codes to mark attendance ",-1))])]),_:1}),t(s(J),{value:"manual-input",class:"space-y-4"},{default:a(()=>[n("div",as,[n("div",ns,[t(s(O),{for:"student_id"},{default:a(()=>e[18]||(e[18]=[r("Student ID",-1)])),_:1,__:[18]}),t(s(oe),{id:"student_id",modelValue:s(m).student_id,"onUpdate:modelValue":e[0]||(e[0]=l=>s(m).student_id=l),placeholder:"Enter student ID"},null,8,["modelValue"])]),n("div",ls,[t(s(O),{for:"name"},{default:a(()=>e[19]||(e[19]=[r("Or Student Name",-1)])),_:1,__:[19]}),t(s(oe),{id:"name",modelValue:s(m).name,"onUpdate:modelValue":e[1]||(e[1]=l=>s(m).name=l),placeholder:"Enter student name"},null,8,["modelValue"])])]),n("div",os,[t(s(O),{for:"status"},{default:a(()=>e[20]||(e[20]=[r("Status",-1)])),_:1,__:[20]}),t(s(Ae),{modelValue:s(m).status,"onUpdate:modelValue":e[2]||(e[2]=l=>s(m).status=l)},{default:a(()=>[t(s(Ee),null,{default:a(()=>[t(s(je))]),_:1}),t(s(Qe),null,{default:a(()=>[t(s(D),{value:"present"},{default:a(()=>e[21]||(e[21]=[r("Present",-1)])),_:1,__:[21]}),t(s(D),{value:"late"},{default:a(()=>e[22]||(e[22]=[r("Late",-1)])),_:1,__:[22]}),t(s(D),{value:"absent"},{default:a(()=>e[23]||(e[23]=[r("Absent",-1)])),_:1,__:[23]}),t(s(D),{value:"excused"},{default:a(()=>e[24]||(e[24]=[r("Excused",-1)])),_:1,__:[24]})]),_:1})]),_:1},8,["modelValue"])]),t(s(E),{onClick:_e,class:"w-full",disabled:s(m).processing||$.value},{default:a(()=>[t(s(j),{class:"h-4 w-4 mr-2"}),e[25]||(e[25]=r(" Mark Attendance ",-1))]),_:1,__:[25]},8,["disabled"])]),_:1}),t(s(J),{value:"file-upload",class:"space-y-4"},{default:a(()=>[n("div",rs,[t(s(O),{for:"file-input"},{default:a(()=>e[26]||(e[26]=[r("Upload Attendance File",-1)])),_:1,__:[26]}),n("div",ds,[n("input",{ref_key:"fileInputRef",ref:Y,type:"file",onChange:pe,class:"hidden",accept:".csv,.xlsx,.xls"},null,544),n("div",{onClick:e[3]||(e[3]=l=>{var i;return(i=Y.value)==null?void 0:i.click()}),class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition-colors"},[t(s(H),{class:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e[27]||(e[27]=n("p",{class:"text-sm text-gray-600 mb-2"},[n("span",{class:"font-medium"},"Click to upload"),r(" or drag and drop ")],-1)),e[28]||(e[28]=n("p",{class:"text-xs text-gray-500"}," CSV or Excel file with student information ",-1))])])]),b.value.length>0?(f(),p("div",is,[(f(!0),p(N,null,z(b.value,(l,i)=>(f(),p("div",{key:i,class:"flex items-center justify-between p-2 bg-gray-50 rounded"},[n("div",us,[t(s(he),{class:"h-4 w-4 text-gray-500 flex-shrink-0"}),n("div",cs,[n("p",fs,d(l.name),1),n("p",ms,d(l.size)+" bytes",1)])])]))),128)),A.value?(f(),p("div",_s,[n("div",ps,[e[29]||(e[29]=n("span",null,"Uploading...",-1)),n("span",null,d(Math.round(w.value))+"%",1)]),n("div",vs,[n("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:ae({width:`${w.value}%`})},null,4)])])):x("",!0),t(s(E),{onClick:ve,class:"w-full",disabled:A.value||b.value.length===0},{default:a(()=>[A.value?(f(),V(s(de),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(f(),V(s(H),{key:1,class:"h-4 w-4 mr-2"})),r(" "+d(A.value?"Uploading...":"Upload & Process"),1)]),_:1},8,["disabled"])])):x("",!0),F.value?(f(),p("div",gs,[n("p",xs,d(F.value),1)])):x("",!0),Q.value?(f(),p("div",ys,[n("p",hs,d(Q.value),1)])):x("",!0)]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),n("div",bs,[t(s(k),{class:"h-fit"},{default:a(()=>[t(s(S),{class:"pb-3"},{default:a(()=>[t(s(C),{class:"text-green-700 flex items-center gap-2"},{default:a(()=>[t(s(j),{class:"h-5 w-5"}),r(" Present Students ("+d(U.value.length)+") ",1)]),_:1})]),_:1}),t(s(R),null,{default:a(()=>[n("div",ws,[(f(!0),p(N,null,z(U.value,l=>(f(),p("div",{key:l.id,class:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors"},[n("div",ks,[n("p",Ss,d(l.name),1),n("p",Cs,d(l.student_id),1)]),t(s(B),{variant:"secondary",class:"bg-green-100 text-green-800 border-green-200 shrink-0"},{default:a(()=>e[30]||(e[30]=[r(" Present ",-1)])),_:1,__:[30]})]))),128)),U.value.length===0?(f(),p("div",Rs,[t(s(j),{class:"h-12 w-12 mx-auto mb-3 opacity-30"}),e[31]||(e[31]=n("p",{class:"font-medium"},"No students marked present yet",-1)),e[32]||(e[32]=n("p",{class:"text-sm"},"Use the QR scanner to mark attendance",-1))])):x("",!0)])]),_:1})]),_:1}),t(s(k),{class:"h-fit"},{default:a(()=>[t(s(S),{class:"pb-3"},{default:a(()=>[t(s(C),{class:"text-red-700 flex items-center gap-2"},{default:a(()=>[t(s(K),{class:"h-5 w-5"}),r(" Absent Students ("+d(q.value.length)+") ",1)]),_:1})]),_:1}),t(s(R),null,{default:a(()=>[n("div",$s,[(f(!0),p(N,null,z(q.value,l=>(f(),p("div",{key:l.id,class:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors"},[n("div",Fs,[n("p",As,d(l.name),1),n("p",Es,d(l.student_id),1)]),t(s(B),{variant:"secondary",class:"bg-red-100 text-red-800 border-red-200 shrink-0"},{default:a(()=>e[33]||(e[33]=[r(" Absent ",-1)])),_:1,__:[33]})]))),128)),q.value.length===0?(f(),p("div",js,[t(s(j),{class:"h-12 w-12 mx-auto mb-3 opacity-30"}),e[34]||(e[34]=n("p",{class:"font-medium"},"All students are present!",-1)),e[35]||(e[35]=n("p",{class:"text-sm"},"Great job on attendance",-1))])):x("",!0)])]),_:1})]),_:1})]),t($e,{show:M.value,"session-id":o.session.id,onClose:Z,onScanSuccess:me},null,8,["show","session-id"]),t(s(Ue),{open:P.value,"onUpdate:open":e[5]||(e[5]=l=>P.value=l)},{default:a(()=>[t(s(Pe),{class:"sm:max-w-md"},{default:a(()=>{var l;return[t(s(Te),null,{default:a(()=>[t(s(qe),null,{default:a(()=>e[36]||(e[36]=[r("QR Code for Attendance",-1)])),_:1,__:[36]}),t(s(Ne),null,{default:a(()=>e[37]||(e[37]=[r(" Students can scan this QR code to mark their attendance for this session ",-1)])),_:1,__:[37]})]),_:1}),n("div",Qs,[n("div",Us,[n("div",Ps,[T.value?(f(),p("img",{key:0,src:T.value,alt:"QR Code",class:"w-full h-full object-contain"},null,8,Ts)):(f(),p("div",qs,[t(s(re),{class:"h-16 w-16 mx-auto mb-2 text-gray-400"}),e[38]||(e[38]=n("p",{class:"text-sm text-gray-500"},"Generating QR Code...",-1))]))])]),n("div",Ns,[n("p",Vs,d(o.session.session_name),1),n("p",Os,d((l=o.session.class)==null?void 0:l.name),1),e[39]||(e[39]=n("p",{class:"text-xs text-muted-foreground"},"Active Session",-1))]),t(s(E),{onClick:fe,variant:"outline",class:"w-full"},{default:a(()=>e[40]||(e[40]=[r(" Close ",-1)])),_:1,__:[40]})])]}),_:1})]),_:1},8,["open"]),y.value||v.value?(f(),p("div",Ds,[y.value?(f(),V(s(ne),{key:0,class:"bg-green-50 border-green-200"},{default:a(()=>[t(s(j),{class:"h-4 w-4 text-green-600"}),t(s(le),{class:"text-green-800"},{default:a(()=>[r(" ✅ "+d(y.value.name)+" marked as present! ",1)]),_:1})]),_:1})):x("",!0),v.value?(f(),V(s(ne),{key:1,class:"bg-red-50 border-red-200"},{default:a(()=>[t(s(K),{class:"h-4 w-4 text-red-600"}),t(s(le),{class:"text-red-800"},{default:a(()=>[r(d(v.value),1)]),_:1})]),_:1})):x("",!0)])):x("",!0),$.value?(f(),p("div",Ms,[n("div",Is,[t(s(de),{class:"h-6 w-6 animate-spin"}),e[41]||(e[41]=n("span",null,"Processing attendance...",-1))])])):x("",!0)])])]}),_:1})],64))}});export{gt as default};
