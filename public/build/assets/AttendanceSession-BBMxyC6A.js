import{d as ge,r as v,u as se,c as L,a as _,o as f,b as t,e as s,h as xe,w as a,f as n,k as g,t as d,i as o,A as te,F as q,g as X,j as N}from"./app-rHDwbb4Q.js";import{F as ye,_ as he}from"./AppLayout.vue_vue_type_script_setup_true_lang-ixThIx_M.js";import{_ as w,b as k,c as S,a as C,d as be}from"./CardTitle.vue_vue_type_script_setup_true_lang-BppFqV3Y.js";import{_ as A}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CBQ0C5ms.js";import{_ as z}from"./index-B_lcBpmg.js";import{E as we,_ as ke,a as Se,b as B,c as G,S as Ce,Q as Re,d as ae,e as ne,f as $e}from"./browser-BxcVgIjT.js";import{_ as le}from"./Input.vue_vue_type_script_setup_true_lang-BLbWLp8i.js";import{_ as M}from"./Label.vue_vue_type_script_setup_true_lang-UOvBTuP_.js";import{_ as Fe,a as Ae,b as Ee,c as je,d as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-xlvIVxY4.js";import{_ as Qe,a as Ue,b as Te,c as Pe,d as qe}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CvCgfQQn.js";import{C as Ne}from"./clock-RZsBA39k.js";import{U as Me}from"./users-Du_3ypOv.js";import{C as E}from"./circle-check-big-C9JIRdFo.js";import{C as J}from"./circle-x-CtIqt0dt.js";import{Q as oe}from"./qr-code-CHFecUC7.js";import{U as Ve}from"./user-DNwPk_XR.js";import{U as K}from"./upload-ClQzDWZ5.js";import{L as re}from"./loader-circle-RIsZOWjv.js";import"./useForwardExpose-lDhQ7ytw.js";import"./RovingFocusGroup-Crs4BQ3o.js";import"./vue-qrcode-reader-OzUUObJM.js";import"./RovingFocusItem-CZDqwJWX.js";import"./Textarea.vue_vue_type_script_setup_true_lang-C-SeRmU-.js";import"./zap-BAkKgeCV.js";import"./circle-alert-CcqWG5hI.js";import"./hash-CK8WWcIe.js";import"./calendar-DbaUrS8a.js";import"./check-CHUXsVyQ.js";const Oe={class:"py-12"},De={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ie={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Le={class:"p-6"},Xe={class:"flex items-center justify-between"},ze={class:"text-2xl font-bold text-gray-900"},Be={class:"text-gray-600"},Ge={class:"ml-2"},Je={class:"flex gap-3"},Ke={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},He={class:"text-2xl font-bold"},We={class:"text-2xl font-bold text-green-600"},Ye={class:"text-2xl font-bold text-red-600"},Ze={class:"text-sm font-medium"},es={class:"w-full bg-gray-200 rounded-full h-2"},ss={class:"text-center"},ts={class:"grid gap-4 md:grid-cols-2"},as={class:"space-y-2"},ns={class:"space-y-2"},ls={class:"space-y-2"},os={class:"space-y-2"},rs={class:"mt-1"},ds={key:0,class:"space-y-2"},is={class:"flex items-center space-x-2 flex-1 min-w-0"},us={class:"min-w-0 flex-1"},cs={class:"text-sm font-medium truncate"},fs={class:"text-xs text-gray-500"},ms={key:0,class:"space-y-2"},_s={class:"flex items-center justify-between text-sm"},ps={class:"w-full bg-gray-200 rounded-full h-2"},vs={key:1,class:"p-3 bg-red-50 border border-red-200 rounded-md"},gs={class:"text-sm text-red-600"},xs={key:2,class:"p-3 bg-green-50 border border-green-200 rounded-md"},ys={class:"text-sm text-green-600"},hs={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},bs={class:"space-y-3 max-h-96 overflow-y-auto"},ws={class:"flex-1 min-w-0"},ks={class:"font-medium text-gray-900 truncate"},Ss={class:"text-sm text-green-700 font-mono"},Cs={key:0,class:"text-center py-8 text-muted-foreground"},Rs={class:"space-y-3 max-h-96 overflow-y-auto"},$s={class:"flex-1 min-w-0"},Fs={class:"font-medium text-gray-900 truncate"},As={class:"text-sm text-red-700 font-mono"},Es={key:0,class:"text-center py-8 text-muted-foreground"},js={class:"flex flex-col items-center space-y-4"},Qs={class:"bg-white p-4 rounded-lg border-2 border-gray-200"},Us={class:"w-48 h-48 flex items-center justify-center"},Ts=["src"],Ps={key:1,class:"text-center"},qs={class:"text-center"},Ns={class:"text-sm font-medium"},Ms={class:"text-xs text-muted-foreground"},Vs={key:0,class:"fixed bottom-4 right-4 z-50"},Os={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ds={class:"bg-white p-6 rounded-lg flex items-center gap-3"},vt=ge({__name:"AttendanceSession",props:{teacher:{},session:{},students:{},attendance_records:{}},setup(de){const i=de,O=v(!1),U=v(!1),x=v(null),p=v(""),R=v(!1),T=v(""),H=v("qr-code"),m=se({student_id:"",name:"",status:"present",method:"manual"}),h=v([]),b=v(0),$=v(""),F=v(!1),j=v(""),W=v(null),ie=()=>{O.value=!0,p.value="",x.value=null},Y=()=>{O.value=!1},ue=async()=>{if(i.session.qr_code&&!T.value)try{T.value=await $e.toDataURL(i.session.qr_code,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})}catch(l){console.error("Failed to generate QR code:",l)}U.value=!0},ce=()=>{U.value=!1},fe=async l=>{console.log("QR scan successful:",l),R.value=!0,p.value="";try{let r=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!r){console.warn("CSRF token not found, attempting to refresh...");const y=await fetch(window.location.href,{method:"GET",headers:{Accept:"text/html"}});if(y.ok){const ee=(await y.text()).match(/name="csrf-token" content="([^"]*)"/);r=ee?ee[1]:null}}if(!r)throw new Error("Unable to get CSRF token. Please refresh the page.");console.log("Making QR scan request with token:",!!r);const u=await fetch(`/teacher/attendance/${i.session.id}/qr-scan`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":r,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin",body:JSON.stringify({qr_data:JSON.stringify(l)})});if(console.log("Response status:",u.status),console.log("Response headers:",Object.fromEntries(u.headers.entries())),!u.ok){let y=`HTTP ${u.status}`;try{y=(await u.json()).message||y}catch{const I=await u.text();console.error("Error response text:",I),y=u.status===419?"CSRF token expired. Please refresh the page.":y}throw new Error(y)}const c=await u.json();console.log("QR scan result:",c),c.success?(x.value=c.student,p.value="",c.student?.id&&!i.attendance_records.includes(c.student.id)&&i.attendance_records.push(c.student.id),setTimeout(()=>{Y(),x.value=null},2e3)):p.value=c.message||"Failed to mark attendance"}catch(e){console.error("Error marking attendance:",e),p.value=e instanceof Error?e.message:"Network error. Please try again."}finally{R.value=!1}},me=async()=>{if(!m.student_id&&!m.name){p.value="Please enter student ID or name";return}R.value=!0,p.value="",x.value=null;try{let l="",e=null;if(m.student_id?(l=m.student_id,e=i.students.find(c=>c.student_id===m.student_id)):m.name&&(e=i.students.find(c=>c.name.toLowerCase().includes(m.name.toLowerCase())),e&&(l=e.student_id)),!l){p.value="Student not found in this class";return}const u=await(await fetch(`/teacher/attendance/${i.session.id}/mark`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({student_id:l,status:m.status,method:m.method})})).json();if(u.success){const c=u.student;c&&!i.attendance_records.includes(c.id)&&i.attendance_records.push(c.id),x.value=c||e||{name:m.name||m.student_id},m.reset(),setTimeout(()=>{x.value=null},3e3)}else p.value=u.message||"Failed to mark attendance"}catch(l){console.error("Error marking attendance:",l),p.value="Network error. Please try again."}finally{R.value=!1}},_e=l=>{const e=l.target;e.files&&(h.value=Array.from(e.files))},pe=async()=>{if(h.value.length===0){$.value="Please select a file to upload";return}F.value=!0,b.value=0,$.value="",j.value="";try{const l=new FormData;l.append("session_id",String(i.session.id)),h.value.forEach(c=>{l.append("file",c)});const e=setInterval(()=>{b.value<90&&(b.value+=Math.random()*10)},200),r=await fetch(`/teacher/attendance/${i.session.id}/upload`,{method:"POST",headers:{Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:l});clearInterval(e),b.value=100;const u=await r.json();u.success?(j.value=`${u.processed||0} attendance records processed successfully.`,u.records&&Array.isArray(u.records)&&u.records.forEach(c=>{i.attendance_records.includes(c.student_id)||i.attendance_records.push(c.student_id)}),h.value=[],setTimeout(()=>{b.value=0,j.value=""},5e3)):$.value=u.message||"Failed to process attendance file"}catch(l){console.error("Error uploading attendance file:",l),$.value="Network error. Please try again."}finally{F.value=!1}},D=se({}),ve=()=>{D.put(`/teacher/attendance/sessions/${i.session.id}/end`,{onSuccess:()=>{console.log("Session ended successfully")},onError:l=>{console.error("Error ending session:",l),alert("Failed to end session: "+(l.message||"Unknown error"))}})},Q=L(()=>i.students.filter(l=>i.attendance_records.some(e=>e.student_id===l.id&&e.status==="present"))),P=L(()=>i.students.filter(l=>!i.attendance_records.some(e=>e.student_id===l.id))),Z=L(()=>i.students.length===0?0:Math.round(Q.value.length/i.students.length*100));return(l,e)=>(f(),_(q,null,[t(s(xe),{title:`Attendance Session - ${l.session.session_name}`},null,8,["title"]),t(he,null,{default:a(()=>[n("div",Oe,[n("div",De,[n("div",Ie,[n("div",Le,[n("div",Xe,[n("div",null,[n("h1",ze,d(l.session.session_name),1),n("p",Be,[o(d(l.session.class?.name||"Class")+" • "+d(l.session.session_date)+" ",1),n("span",Ge,[t(s(z),{variant:l.session.status==="active"?"default":"secondary"},{default:a(()=>[o(d(l.session.status),1)]),_:1},8,["variant"])])])]),n("div",Je,[t(s(A),{onClick:ue,disabled:l.session.status!=="active"},{default:a(()=>[t(s(we),{class:"h-4 w-4 mr-2"}),e[6]||(e[6]=o(" Show QR Code ",-1))]),_:1,__:[6]},8,["disabled"]),t(s(A),{variant:"outline",onClick:ve,disabled:s(D).processing||l.session.status!=="active"},{default:a(()=>[t(s(Ne),{class:"h-4 w-4 mr-2"}),o(" "+d(s(D).processing?"Ending...":"End Session"),1)]),_:1},8,["disabled"])])])])]),n("div",Ke,[t(s(w),null,{default:a(()=>[t(s(k),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[t(s(S),{class:"text-sm font-medium"},{default:a(()=>e[7]||(e[7]=[o("Total Students",-1)])),_:1,__:[7]}),t(s(Me),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(s(C),null,{default:a(()=>[n("div",He,d(l.students.length),1)]),_:1})]),_:1}),t(s(w),null,{default:a(()=>[t(s(k),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[t(s(S),{class:"text-sm font-medium"},{default:a(()=>e[8]||(e[8]=[o("Present",-1)])),_:1,__:[8]}),t(s(E),{class:"h-4 w-4 text-green-600"})]),_:1}),t(s(C),null,{default:a(()=>[n("div",We,d(Q.value.length),1)]),_:1})]),_:1}),t(s(w),null,{default:a(()=>[t(s(k),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[t(s(S),{class:"text-sm font-medium"},{default:a(()=>e[9]||(e[9]=[o("Absent",-1)])),_:1,__:[9]}),t(s(J),{class:"h-4 w-4 text-red-600"})]),_:1}),t(s(C),null,{default:a(()=>[n("div",Ye,d(P.value.length),1)]),_:1})]),_:1}),t(s(w),null,{default:a(()=>[t(s(k),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:a(()=>[t(s(S),{class:"text-sm font-medium"},{default:a(()=>e[10]||(e[10]=[o("Attendance Rate",-1)])),_:1,__:[10]}),n("div",Ze,d(Z.value)+"%",1)]),_:1}),t(s(C),null,{default:a(()=>[n("div",es,[n("div",{class:"bg-green-600 h-2 rounded-full transition-all duration-300",style:te({width:`${Z.value}%`})},null,4)])]),_:1})]),_:1})]),t(s(w),{class:"mb-6"},{default:a(()=>[t(s(k),null,{default:a(()=>[t(s(S),null,{default:a(()=>e[11]||(e[11]=[o("Attendance Management",-1)])),_:1,__:[11]}),t(s(be),null,{default:a(()=>e[12]||(e[12]=[o(" Mark attendance using any of the available methods ",-1)])),_:1,__:[12]})]),_:1}),t(s(C),null,{default:a(()=>[t(s(ke),{value:H.value,"onUpdate:value":e[4]||(e[4]=r=>H.value=r),class:"w-full"},{default:a(()=>[t(s(Se),{class:"grid grid-cols-3 mb-4"},{default:a(()=>[t(s(B),{value:"qr-code",class:"flex items-center gap-2"},{default:a(()=>[t(s(oe),{class:"h-4 w-4"}),e[13]||(e[13]=n("span",null,"QR Scanner",-1))]),_:1,__:[13]}),t(s(B),{value:"manual-input",class:"flex items-center gap-2"},{default:a(()=>[t(s(Ve),{class:"h-4 w-4"}),e[14]||(e[14]=n("span",null,"Manual Input",-1))]),_:1,__:[14]}),t(s(B),{value:"file-upload",class:"flex items-center gap-2"},{default:a(()=>[t(s(K),{class:"h-4 w-4"}),e[15]||(e[15]=n("span",null,"File Upload",-1))]),_:1,__:[15]})]),_:1}),t(s(G),{value:"qr-code",class:"space-y-4"},{default:a(()=>[n("div",ss,[t(s(A),{onClick:ie,size:"lg",class:"flex items-center gap-2"},{default:a(()=>[t(s(Ce),{class:"h-5 w-5"}),e[16]||(e[16]=o(" Open QR Scanner ",-1))]),_:1,__:[16]}),e[17]||(e[17]=n("p",{class:"text-sm text-gray-500 mt-2"}," Scan student QR codes to mark attendance ",-1))])]),_:1}),t(s(G),{value:"manual-input",class:"space-y-4"},{default:a(()=>[n("div",ts,[n("div",as,[t(s(M),{for:"student_id"},{default:a(()=>e[18]||(e[18]=[o("Student ID",-1)])),_:1,__:[18]}),t(s(le),{id:"student_id",modelValue:s(m).student_id,"onUpdate:modelValue":e[0]||(e[0]=r=>s(m).student_id=r),placeholder:"Enter student ID"},null,8,["modelValue"])]),n("div",ns,[t(s(M),{for:"name"},{default:a(()=>e[19]||(e[19]=[o("Or Student Name",-1)])),_:1,__:[19]}),t(s(le),{id:"name",modelValue:s(m).name,"onUpdate:modelValue":e[1]||(e[1]=r=>s(m).name=r),placeholder:"Enter student name"},null,8,["modelValue"])])]),n("div",ls,[t(s(M),{for:"status"},{default:a(()=>e[20]||(e[20]=[o("Status",-1)])),_:1,__:[20]}),t(s(Fe),{modelValue:s(m).status,"onUpdate:modelValue":e[2]||(e[2]=r=>s(m).status=r)},{default:a(()=>[t(s(Ae),null,{default:a(()=>[t(s(Ee))]),_:1}),t(s(je),null,{default:a(()=>[t(s(V),{value:"present"},{default:a(()=>e[21]||(e[21]=[o("Present",-1)])),_:1,__:[21]}),t(s(V),{value:"late"},{default:a(()=>e[22]||(e[22]=[o("Late",-1)])),_:1,__:[22]}),t(s(V),{value:"absent"},{default:a(()=>e[23]||(e[23]=[o("Absent",-1)])),_:1,__:[23]}),t(s(V),{value:"excused"},{default:a(()=>e[24]||(e[24]=[o("Excused",-1)])),_:1,__:[24]})]),_:1})]),_:1},8,["modelValue"])]),t(s(A),{onClick:me,class:"w-full",disabled:s(m).processing||R.value},{default:a(()=>[t(s(E),{class:"h-4 w-4 mr-2"}),e[25]||(e[25]=o(" Mark Attendance ",-1))]),_:1,__:[25]},8,["disabled"])]),_:1}),t(s(G),{value:"file-upload",class:"space-y-4"},{default:a(()=>[n("div",os,[t(s(M),{for:"file-input"},{default:a(()=>e[26]||(e[26]=[o("Upload Attendance File",-1)])),_:1,__:[26]}),n("div",rs,[n("input",{ref_key:"fileInputRef",ref:W,type:"file",onChange:_e,class:"hidden",accept:".csv,.xlsx,.xls"},null,544),n("div",{onClick:e[3]||(e[3]=r=>W.value?.click()),class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition-colors"},[t(s(K),{class:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e[27]||(e[27]=n("p",{class:"text-sm text-gray-600 mb-2"},[n("span",{class:"font-medium"},"Click to upload"),o(" or drag and drop ")],-1)),e[28]||(e[28]=n("p",{class:"text-xs text-gray-500"}," CSV or Excel file with student information ",-1))])])]),h.value.length>0?(f(),_("div",ds,[(f(!0),_(q,null,X(h.value,(r,u)=>(f(),_("div",{key:u,class:"flex items-center justify-between p-2 bg-gray-50 rounded"},[n("div",is,[t(s(ye),{class:"h-4 w-4 text-gray-500 flex-shrink-0"}),n("div",us,[n("p",cs,d(r.name),1),n("p",fs,d(r.size)+" bytes",1)])])]))),128)),F.value?(f(),_("div",ms,[n("div",_s,[e[29]||(e[29]=n("span",null,"Uploading...",-1)),n("span",null,d(Math.round(b.value))+"%",1)]),n("div",ps,[n("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:te({width:`${b.value}%`})},null,4)])])):g("",!0),t(s(A),{onClick:pe,class:"w-full",disabled:F.value||h.value.length===0},{default:a(()=>[F.value?(f(),N(s(re),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):(f(),N(s(K),{key:1,class:"h-4 w-4 mr-2"})),o(" "+d(F.value?"Uploading...":"Upload & Process"),1)]),_:1},8,["disabled"])])):g("",!0),$.value?(f(),_("div",vs,[n("p",gs,d($.value),1)])):g("",!0),j.value?(f(),_("div",xs,[n("p",ys,d(j.value),1)])):g("",!0)]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),n("div",hs,[t(s(w),{class:"h-fit"},{default:a(()=>[t(s(k),{class:"pb-3"},{default:a(()=>[t(s(S),{class:"text-green-700 flex items-center gap-2"},{default:a(()=>[t(s(E),{class:"h-5 w-5"}),o(" Present Students ("+d(Q.value.length)+") ",1)]),_:1})]),_:1}),t(s(C),null,{default:a(()=>[n("div",bs,[(f(!0),_(q,null,X(Q.value,r=>(f(),_("div",{key:r.id,class:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors"},[n("div",ws,[n("p",ks,d(r.name),1),n("p",Ss,d(r.student_id),1)]),t(s(z),{variant:"secondary",class:"bg-green-100 text-green-800 border-green-200 shrink-0"},{default:a(()=>e[30]||(e[30]=[o(" Present ",-1)])),_:1,__:[30]})]))),128)),Q.value.length===0?(f(),_("div",Cs,[t(s(E),{class:"h-12 w-12 mx-auto mb-3 opacity-30"}),e[31]||(e[31]=n("p",{class:"font-medium"},"No students marked present yet",-1)),e[32]||(e[32]=n("p",{class:"text-sm"},"Use the QR scanner to mark attendance",-1))])):g("",!0)])]),_:1})]),_:1}),t(s(w),{class:"h-fit"},{default:a(()=>[t(s(k),{class:"pb-3"},{default:a(()=>[t(s(S),{class:"text-red-700 flex items-center gap-2"},{default:a(()=>[t(s(J),{class:"h-5 w-5"}),o(" Absent Students ("+d(P.value.length)+") ",1)]),_:1})]),_:1}),t(s(C),null,{default:a(()=>[n("div",Rs,[(f(!0),_(q,null,X(P.value,r=>(f(),_("div",{key:r.id,class:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors"},[n("div",$s,[n("p",Fs,d(r.name),1),n("p",As,d(r.student_id),1)]),t(s(z),{variant:"secondary",class:"bg-red-100 text-red-800 border-red-200 shrink-0"},{default:a(()=>e[33]||(e[33]=[o(" Absent ",-1)])),_:1,__:[33]})]))),128)),P.value.length===0?(f(),_("div",Es,[t(s(E),{class:"h-12 w-12 mx-auto mb-3 opacity-30"}),e[34]||(e[34]=n("p",{class:"font-medium"},"All students are present!",-1)),e[35]||(e[35]=n("p",{class:"text-sm"},"Great job on attendance",-1))])):g("",!0)])]),_:1})]),_:1})]),t(Re,{show:O.value,"session-id":l.session.id,onClose:Y,onScanSuccess:fe},null,8,["show","session-id"]),t(s(Qe),{open:U.value,"onUpdate:open":e[5]||(e[5]=r=>U.value=r)},{default:a(()=>[t(s(Ue),{class:"sm:max-w-md"},{default:a(()=>[t(s(Te),null,{default:a(()=>[t(s(Pe),null,{default:a(()=>e[36]||(e[36]=[o("QR Code for Attendance",-1)])),_:1,__:[36]}),t(s(qe),null,{default:a(()=>e[37]||(e[37]=[o(" Students can scan this QR code to mark their attendance for this session ",-1)])),_:1,__:[37]})]),_:1}),n("div",js,[n("div",Qs,[n("div",Us,[T.value?(f(),_("img",{key:0,src:T.value,alt:"QR Code",class:"w-full h-full object-contain"},null,8,Ts)):(f(),_("div",Ps,[t(s(oe),{class:"h-16 w-16 mx-auto mb-2 text-gray-400"}),e[38]||(e[38]=n("p",{class:"text-sm text-gray-500"},"Generating QR Code...",-1))]))])]),n("div",qs,[n("p",Ns,d(l.session.session_name),1),n("p",Ms,d(l.session.class?.name),1),e[39]||(e[39]=n("p",{class:"text-xs text-muted-foreground"},"Active Session",-1))]),t(s(A),{onClick:ce,variant:"outline",class:"w-full"},{default:a(()=>e[40]||(e[40]=[o(" Close ",-1)])),_:1,__:[40]})])]),_:1})]),_:1},8,["open"]),x.value||p.value?(f(),_("div",Vs,[x.value?(f(),N(s(ae),{key:0,class:"bg-green-50 border-green-200"},{default:a(()=>[t(s(E),{class:"h-4 w-4 text-green-600"}),t(s(ne),{class:"text-green-800"},{default:a(()=>[o(" ✅ "+d(x.value.name)+" marked as present! ",1)]),_:1})]),_:1})):g("",!0),p.value?(f(),N(s(ae),{key:1,class:"bg-red-50 border-red-200"},{default:a(()=>[t(s(J),{class:"h-4 w-4 text-red-600"}),t(s(ne),{class:"text-red-800"},{default:a(()=>[o(d(p.value),1)]),_:1})]),_:1})):g("",!0)])):g("",!0),R.value?(f(),_("div",Os,[n("div",Ds,[t(s(re),{class:"h-6 w-6 animate-spin"}),e[41]||(e[41]=n("span",null,"Processing attendance...",-1))])])):g("",!0)])])]),_:1})],64))}});export{vt as default};
