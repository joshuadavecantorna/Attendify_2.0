import{d as ee,r as D,u as S,c as se,a as _,o as m,b as t,e,h as te,w as l,f as i,i as r,t as n,F as P,g as N,j,k as f,p as A,n as v}from"./app-DvD5lfuA.js";import{_ as le}from"./AppLayout.vue_vue_type_script_setup_true_lang-CbPEVQj7.js";import{_ as $,b as C,c as T,a as U,d as oe}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bm7dENVJ.js";import{_ as y}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DuW70504.js";import{_ as ae}from"./index-D5999L_P.js";import{_ as re,a as de,b as F,c as x,d as ie,e as g}from"./TableHeader.vue_vue_type_script_setup_true_lang-CyrSXHhB.js";import{_ as p}from"./Input.vue_vue_type_script_setup_true_lang-CeFMmzl1.js";import{_ as h,a as I,b as M,c as z,d as B}from"./DialogTitle.vue_vue_type_script_setup_true_lang-5cdlHEvD.js";import{_ as O}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CZZ9sw84.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-Ex6JluKO.js";import{P as ne}from"./plus-DmsARgtv.js";import{U as E}from"./user-check-LiZqxFcR.js";import{U as Q}from"./user-x-CmEpKJGl.js";import{S as ue}from"./search-jA49E1Ux.js";import{S as me}from"./square-pen-BnMGXX0M.js";import{T as _e}from"./trash-2-BrGu5LKB.js";import"./useForwardExpose-DrilU4Ay.js";import"./users-DghIYMBj.js";import"./RovingFocusGroup-BIwBOwvo.js";const pe={class:"flex flex-1 flex-col gap-4 p-4 pt-4"},fe={class:"space-y-6"},ce={class:"flex justify-between items-center"},ve={class:"grid gap-3 sm:gap-4 grid-cols-2 md:grid-cols-4"},ye={class:"text-2xl font-bold"},xe={class:"text-2xl font-bold"},ge={class:"text-2xl font-bold"},we={class:"text-2xl font-bold"},be={class:"flex items-center justify-between"},Ve={class:"flex items-center space-x-2"},ke={class:"relative"},$e={class:"flex items-center space-x-2"},Ce={key:0,class:"bg-red-50 border border-red-200 rounded-md p-3 mb-4"},Te={class:"text-sm text-red-800"},Ue={class:"mt-2 list-disc list-inside"},qe={class:"grid grid-cols-2 gap-4"},De={class:"space-y-2"},Se={key:0,class:"text-sm text-red-500"},Ee={class:"space-y-2"},Pe={key:0,class:"text-sm text-red-500"},je={class:"space-y-2"},Le={key:0,class:"text-sm text-red-500"},Ne={class:"grid grid-cols-2 gap-4"},Ae={class:"space-y-2"},Fe={key:0,class:"text-sm text-red-500"},he={class:"space-y-2"},Ie={key:0,class:"text-sm text-red-500"},Me={class:"grid grid-cols-2 gap-4"},ze={class:"space-y-2"},Be={key:0,class:"text-sm text-red-500"},Oe={class:"space-y-2"},Qe={key:0,class:"text-sm text-red-500"},Xe={class:"grid grid-cols-2 gap-4"},Ge={class:"space-y-2"},He={key:0,class:"text-sm text-red-500"},Je={class:"space-y-2"},Ke={class:"grid grid-cols-2 gap-4"},Re={class:"space-y-2"},We={key:0,class:"text-sm text-red-500"},Ye={class:"space-y-2"},Ze={key:0,class:"text-sm text-red-500"},es={class:"space-y-2"},ss={key:0,class:"text-sm text-red-500"},ts={class:"grid grid-cols-2 gap-4"},ls={class:"space-y-2"},os={key:0,class:"text-sm text-red-500"},as={class:"space-y-2"},rs={key:0,class:"text-sm text-red-500"},ds={class:"grid grid-cols-2 gap-4"},is={class:"space-y-2"},ns={key:0,class:"text-sm text-red-500"},us={class:"space-y-2"},ms={key:0,class:"text-sm text-red-500"},Es=ee({__name:"Teachers",props:{teachers:{}},setup(X){const L=X,w=D(""),V=D(!1),k=D(!1),q=D(null),a=S({first_name:"",last_name:"",email:"",phone:"",employee_id:"",department:"",position:"",password:"",password_confirmation:""}),d=S({first_name:"",last_name:"",email:"",phone:"",employee_id:"",department:"",position:""}),G=()=>{a.reset(),V.value=!0},H=u=>{q.value=u;const s=u.name.split(" ");d.first_name=s[0]||"",d.last_name=s.slice(1).join(" ")||"",d.email=u.email,d.phone=u.phone,d.employee_id=u.employee_id,d.department=u.department,d.position=u.position,k.value=!0},J=()=>{a.post("/admin/teachers",{onSuccess:()=>{V.value=!1,a.reset()},onError:u=>{console.error("Create teacher errors:",u)}})},K=()=>{q.value&&d.put(`/admin/teachers/${q.value.id}`,{onSuccess:()=>{k.value=!1,q.value=null}})},R=u=>{u.is_active;const s=u.is_active?`Are you sure you want to deactivate ${u.name}? They will no longer be able to access the system.`:`Are you sure you want to activate ${u.name}? They will regain access to the system.`;confirm(s)&&S({}).patch(`/admin/teachers/${u.id}/toggle-status`)},W=u=>{confirm(`Are you sure you want to delete ${u.name}? This action cannot be undone.`)&&S({}).delete(`/admin/teachers/${u.id}`)},Y=[{title:"Dashboard",href:"/dashboard"},{title:"Teachers",href:"#"}],Z=se(()=>w.value?L.teachers.filter(u=>u.name.toLowerCase().includes(w.value.toLowerCase())||u.email.toLowerCase().includes(w.value.toLowerCase())||u.department.toLowerCase().includes(w.value.toLowerCase())):L.teachers);return(u,s)=>(m(),_(P,null,[t(e(te),{title:"Teachers Management"}),t(le,{breadcrumbs:Y},{default:l(()=>[i("div",pe,[i("div",fe,[i("div",ce,[s[22]||(s[22]=i("div",null,[i("h1",{class:"text-3xl font-bold tracking-tight"},"Teachers Management"),i("p",{class:"text-muted-foreground"},"Manage teacher accounts and permissions")],-1)),t(e(y),{onClick:G},{default:l(()=>[t(e(ne),{class:"h-4 w-4 mr-2"}),s[21]||(s[21]=r(" Add Teacher ",-1))]),_:1,__:[21]})]),i("div",ve,[t(e($),null,{default:l(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:l(()=>[t(e(T),{class:"text-sm font-medium"},{default:l(()=>s[23]||(s[23]=[r("Total Teachers",-1)])),_:1,__:[23]}),t(e(E),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(U),null,{default:l(()=>[i("div",ye,n(u.teachers.length),1)]),_:1})]),_:1}),t(e($),null,{default:l(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:l(()=>[t(e(T),{class:"text-sm font-medium"},{default:l(()=>s[24]||(s[24]=[r("Active Teachers",-1)])),_:1,__:[24]}),t(e(E),{class:"h-4 w-4 text-green-600"})]),_:1}),t(e(U),null,{default:l(()=>[i("div",xe,n(u.teachers.filter(o=>o.is_active).length),1)]),_:1})]),_:1}),t(e($),null,{default:l(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:l(()=>[t(e(T),{class:"text-sm font-medium"},{default:l(()=>s[25]||(s[25]=[r("Inactive Teachers",-1)])),_:1,__:[25]}),t(e(Q),{class:"h-4 w-4 text-red-600"})]),_:1}),t(e(U),null,{default:l(()=>[i("div",ge,n(u.teachers.filter(o=>!o.is_active).length),1)]),_:1})]),_:1}),t(e($),null,{default:l(()=>[t(e(C),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:l(()=>[t(e(T),{class:"text-sm font-medium"},{default:l(()=>s[26]||(s[26]=[r("Total Classes",-1)])),_:1,__:[26]}),t(e(E),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),t(e(U),null,{default:l(()=>[i("div",we,n(u.teachers.reduce((o,b)=>o+b.classes_count,0)),1)]),_:1})]),_:1})]),t(e($),null,{default:l(()=>[t(e(C),null,{default:l(()=>[i("div",be,[i("div",null,[t(e(T),null,{default:l(()=>s[27]||(s[27]=[r("Teachers List",-1)])),_:1,__:[27]}),t(e(oe),null,{default:l(()=>s[28]||(s[28]=[r("Manage all teacher accounts in the system",-1)])),_:1,__:[28]})]),i("div",Ve,[i("div",ke,[t(e(ue),{class:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t(e(p),{modelValue:w.value,"onUpdate:modelValue":s[0]||(s[0]=o=>w.value=o),placeholder:"Search teachers...",class:"pl-8 w-64"},null,8,["modelValue"])])])])]),_:1}),t(e(U),null,{default:l(()=>[t(e(re),null,{default:l(()=>[t(e(de),null,{default:l(()=>[t(e(F),null,{default:l(()=>[t(e(x),null,{default:l(()=>s[29]||(s[29]=[r("Employee ID",-1)])),_:1,__:[29]}),t(e(x),null,{default:l(()=>s[30]||(s[30]=[r("Name",-1)])),_:1,__:[30]}),t(e(x),null,{default:l(()=>s[31]||(s[31]=[r("Email",-1)])),_:1,__:[31]}),t(e(x),null,{default:l(()=>s[32]||(s[32]=[r("Department",-1)])),_:1,__:[32]}),t(e(x),null,{default:l(()=>s[33]||(s[33]=[r("Position",-1)])),_:1,__:[33]}),t(e(x),null,{default:l(()=>s[34]||(s[34]=[r("Classes",-1)])),_:1,__:[34]}),t(e(x),null,{default:l(()=>s[35]||(s[35]=[r("Status",-1)])),_:1,__:[35]}),t(e(x),null,{default:l(()=>s[36]||(s[36]=[r("Actions",-1)])),_:1,__:[36]})]),_:1})]),_:1}),t(e(ie),null,{default:l(()=>[(m(!0),_(P,null,N(Z.value,o=>(m(),j(e(F),{key:o.id},{default:l(()=>[t(e(g),{class:"font-medium"},{default:l(()=>[r(n(o.employee_id),1)]),_:2},1024),t(e(g),null,{default:l(()=>[r(n(o.name),1)]),_:2},1024),t(e(g),null,{default:l(()=>[r(n(o.email),1)]),_:2},1024),t(e(g),null,{default:l(()=>[r(n(o.department),1)]),_:2},1024),t(e(g),null,{default:l(()=>[r(n(o.position),1)]),_:2},1024),t(e(g),null,{default:l(()=>[r(n(o.classes_count),1)]),_:2},1024),t(e(g),null,{default:l(()=>[t(e(ae),{variant:o.is_active?"default":"secondary"},{default:l(()=>[r(n(o.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(g),null,{default:l(()=>[i("div",$e,[t(e(y),{variant:"outline",size:"sm",onClick:b=>H(o)},{default:l(()=>[t(e(me),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),t(e(y),{size:"sm",variant:o.is_active?"destructive":"default",onClick:b=>R(o)},{default:l(()=>[o.is_active?(m(),j(e(Q),{key:0,class:"h-4 w-4"})):(m(),j(e(E),{key:1,class:"h-4 w-4"}))]),_:2},1032,["variant","onClick"]),t(e(y),{variant:"destructive",size:"sm",onClick:b=>W(o)},{default:l(()=>[t(e(_e),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})])]),t(e(h),{open:V.value,"onUpdate:open":s[11]||(s[11]=o=>V.value=o)},{default:l(()=>[t(e(I),{class:"sm:max-w-[425px]"},{default:l(()=>[t(e(M),null,{default:l(()=>[t(e(z),null,{default:l(()=>s[37]||(s[37]=[r("Add New Teacher",-1)])),_:1,__:[37]}),t(e(B),null,{default:l(()=>s[38]||(s[38]=[r(" Create a new teacher account. They will receive login credentials via email. ",-1)])),_:1,__:[38]})]),_:1}),e(a).errors&&Object.keys(e(a).errors).length>0?(m(),_("div",Ce,[i("div",Te,[s[39]||(s[39]=i("p",{class:"font-medium"},"Please correct the following errors:",-1)),i("ul",Ue,[(m(!0),_(P,null,N(e(a).errors,(o,b)=>(m(),_("li",{key:b},n(o),1))),128))])])])):f("",!0),i("form",{onSubmit:A(J,["prevent"]),class:"space-y-4"},[i("div",qe,[i("div",De,[t(e(c),{for:"create-first-name"},{default:l(()=>s[40]||(s[40]=[r("First Name *",-1)])),_:1,__:[40]}),t(e(p),{id:"create-first-name",modelValue:e(a).first_name,"onUpdate:modelValue":s[1]||(s[1]=o=>e(a).first_name=o),class:v({"border-red-500":e(a).errors.first_name}),required:""},null,8,["modelValue","class"]),e(a).errors.first_name?(m(),_("p",Se,n(e(a).errors.first_name),1)):f("",!0)]),i("div",Ee,[t(e(c),{for:"create-last-name"},{default:l(()=>s[41]||(s[41]=[r("Last Name *",-1)])),_:1,__:[41]}),t(e(p),{id:"create-last-name",modelValue:e(a).last_name,"onUpdate:modelValue":s[2]||(s[2]=o=>e(a).last_name=o),class:v({"border-red-500":e(a).errors.last_name}),required:""},null,8,["modelValue","class"]),e(a).errors.last_name?(m(),_("p",Pe,n(e(a).errors.last_name),1)):f("",!0)])]),i("div",je,[t(e(c),{for:"create-email"},{default:l(()=>s[42]||(s[42]=[r("Email *",-1)])),_:1,__:[42]}),t(e(p),{id:"create-email",modelValue:e(a).email,"onUpdate:modelValue":s[3]||(s[3]=o=>e(a).email=o),type:"email",class:v({"border-red-500":e(a).errors.email}),required:""},null,8,["modelValue","class"]),e(a).errors.email?(m(),_("p",Le,n(e(a).errors.email),1)):f("",!0)]),i("div",Ne,[i("div",Ae,[t(e(c),{for:"create-employee-id"},{default:l(()=>s[43]||(s[43]=[r("Employee ID *",-1)])),_:1,__:[43]}),t(e(p),{id:"create-employee-id",modelValue:e(a).employee_id,"onUpdate:modelValue":s[4]||(s[4]=o=>e(a).employee_id=o),class:v({"border-red-500":e(a).errors.employee_id}),required:""},null,8,["modelValue","class"]),e(a).errors.employee_id?(m(),_("p",Fe,n(e(a).errors.employee_id),1)):f("",!0)]),i("div",he,[t(e(c),{for:"create-phone"},{default:l(()=>s[44]||(s[44]=[r("Phone",-1)])),_:1,__:[44]}),t(e(p),{id:"create-phone",modelValue:e(a).phone,"onUpdate:modelValue":s[5]||(s[5]=o=>e(a).phone=o),class:v({"border-red-500":e(a).errors.phone})},null,8,["modelValue","class"]),e(a).errors.phone?(m(),_("p",Ie,n(e(a).errors.phone),1)):f("",!0)])]),i("div",Me,[i("div",ze,[t(e(c),{for:"create-department"},{default:l(()=>s[45]||(s[45]=[r("Department *",-1)])),_:1,__:[45]}),t(e(p),{id:"create-department",modelValue:e(a).department,"onUpdate:modelValue":s[6]||(s[6]=o=>e(a).department=o),class:v({"border-red-500":e(a).errors.department}),required:""},null,8,["modelValue","class"]),e(a).errors.department?(m(),_("p",Be,n(e(a).errors.department),1)):f("",!0)]),i("div",Oe,[t(e(c),{for:"create-position"},{default:l(()=>s[46]||(s[46]=[r("Position *",-1)])),_:1,__:[46]}),t(e(p),{id:"create-position",modelValue:e(a).position,"onUpdate:modelValue":s[7]||(s[7]=o=>e(a).position=o),class:v({"border-red-500":e(a).errors.position}),required:""},null,8,["modelValue","class"]),e(a).errors.position?(m(),_("p",Qe,n(e(a).errors.position),1)):f("",!0)])]),i("div",Xe,[i("div",Ge,[t(e(c),{for:"create-password"},{default:l(()=>s[47]||(s[47]=[r("Password *",-1)])),_:1,__:[47]}),t(e(p),{id:"create-password",modelValue:e(a).password,"onUpdate:modelValue":s[8]||(s[8]=o=>e(a).password=o),type:"password",class:v({"border-red-500":e(a).errors.password}),required:""},null,8,["modelValue","class"]),e(a).errors.password?(m(),_("p",He,n(e(a).errors.password),1)):f("",!0)]),i("div",Je,[t(e(c),{for:"create-password-confirmation"},{default:l(()=>s[48]||(s[48]=[r("Confirm Password *",-1)])),_:1,__:[48]}),t(e(p),{id:"create-password-confirmation",modelValue:e(a).password_confirmation,"onUpdate:modelValue":s[9]||(s[9]=o=>e(a).password_confirmation=o),type:"password",required:""},null,8,["modelValue"])])]),t(e(O),null,{default:l(()=>[t(e(y),{type:"button",variant:"outline",onClick:s[10]||(s[10]=o=>V.value=!1)},{default:l(()=>s[49]||(s[49]=[r("Cancel",-1)])),_:1,__:[49]}),t(e(y),{type:"submit",disabled:e(a).processing},{default:l(()=>[r(n(e(a).processing?"Creating...":"Create Teacher"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(e(h),{open:k.value,"onUpdate:open":s[20]||(s[20]=o=>k.value=o)},{default:l(()=>[t(e(I),{class:"sm:max-w-[425px]"},{default:l(()=>[t(e(M),null,{default:l(()=>[t(e(z),null,{default:l(()=>s[50]||(s[50]=[r("Edit Teacher",-1)])),_:1,__:[50]}),t(e(B),null,{default:l(()=>s[51]||(s[51]=[r(" Update teacher information. ",-1)])),_:1,__:[51]})]),_:1}),i("form",{onSubmit:A(K,["prevent"]),class:"space-y-4"},[i("div",Ke,[i("div",Re,[t(e(c),{for:"edit-first-name"},{default:l(()=>s[52]||(s[52]=[r("First Name *",-1)])),_:1,__:[52]}),t(e(p),{id:"edit-first-name",modelValue:e(d).first_name,"onUpdate:modelValue":s[12]||(s[12]=o=>e(d).first_name=o),class:v({"border-red-500":e(d).errors.first_name}),required:""},null,8,["modelValue","class"]),e(d).errors.first_name?(m(),_("p",We,n(e(d).errors.first_name),1)):f("",!0)]),i("div",Ye,[t(e(c),{for:"edit-last-name"},{default:l(()=>s[53]||(s[53]=[r("Last Name *",-1)])),_:1,__:[53]}),t(e(p),{id:"edit-last-name",modelValue:e(d).last_name,"onUpdate:modelValue":s[13]||(s[13]=o=>e(d).last_name=o),class:v({"border-red-500":e(d).errors.last_name}),required:""},null,8,["modelValue","class"]),e(d).errors.last_name?(m(),_("p",Ze,n(e(d).errors.last_name),1)):f("",!0)])]),i("div",es,[t(e(c),{for:"edit-email"},{default:l(()=>s[54]||(s[54]=[r("Email *",-1)])),_:1,__:[54]}),t(e(p),{id:"edit-email",modelValue:e(d).email,"onUpdate:modelValue":s[14]||(s[14]=o=>e(d).email=o),type:"email",class:v({"border-red-500":e(d).errors.email}),required:""},null,8,["modelValue","class"]),e(d).errors.email?(m(),_("p",ss,n(e(d).errors.email),1)):f("",!0)]),i("div",ts,[i("div",ls,[t(e(c),{for:"edit-employee-id"},{default:l(()=>s[55]||(s[55]=[r("Employee ID *",-1)])),_:1,__:[55]}),t(e(p),{id:"edit-employee-id",modelValue:e(d).employee_id,"onUpdate:modelValue":s[15]||(s[15]=o=>e(d).employee_id=o),class:v({"border-red-500":e(d).errors.employee_id}),required:""},null,8,["modelValue","class"]),e(d).errors.employee_id?(m(),_("p",os,n(e(d).errors.employee_id),1)):f("",!0)]),i("div",as,[t(e(c),{for:"edit-phone"},{default:l(()=>s[56]||(s[56]=[r("Phone",-1)])),_:1,__:[56]}),t(e(p),{id:"edit-phone",modelValue:e(d).phone,"onUpdate:modelValue":s[16]||(s[16]=o=>e(d).phone=o),class:v({"border-red-500":e(d).errors.phone})},null,8,["modelValue","class"]),e(d).errors.phone?(m(),_("p",rs,n(e(d).errors.phone),1)):f("",!0)])]),i("div",ds,[i("div",is,[t(e(c),{for:"edit-department"},{default:l(()=>s[57]||(s[57]=[r("Department *",-1)])),_:1,__:[57]}),t(e(p),{id:"edit-department",modelValue:e(d).department,"onUpdate:modelValue":s[17]||(s[17]=o=>e(d).department=o),class:v({"border-red-500":e(d).errors.department}),required:""},null,8,["modelValue","class"]),e(d).errors.department?(m(),_("p",ns,n(e(d).errors.department),1)):f("",!0)]),i("div",us,[t(e(c),{for:"edit-position"},{default:l(()=>s[58]||(s[58]=[r("Position *",-1)])),_:1,__:[58]}),t(e(p),{id:"edit-position",modelValue:e(d).position,"onUpdate:modelValue":s[18]||(s[18]=o=>e(d).position=o),class:v({"border-red-500":e(d).errors.position}),required:""},null,8,["modelValue","class"]),e(d).errors.position?(m(),_("p",ms,n(e(d).errors.position),1)):f("",!0)])]),t(e(O),null,{default:l(()=>[t(e(y),{type:"button",variant:"outline",onClick:s[19]||(s[19]=o=>k.value=!1)},{default:l(()=>s[59]||(s[59]=[r("Cancel",-1)])),_:1,__:[59]}),t(e(y),{type:"submit",disabled:e(d).processing},{default:l(()=>[r(n(e(d).processing?"Updating...":"Update Teacher"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Es as default};
