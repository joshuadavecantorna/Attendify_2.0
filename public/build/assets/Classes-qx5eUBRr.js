import{_ as A}from"./AppLayout.vue_vue_type_script_setup_true_lang-CbPEVQj7.js";import{d as S,c as $,a as _,o as u,b as n,e as a,h as M,w as o,f as t,F as x,g as N,j as B,i as c,t as l,n as p,A as j}from"./app-DvD5lfuA.js";import{_ as f,b as g,c as v,d as h,a as m}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bm7dENVJ.js";import{_ as V}from"./index-D5999L_P.js";import{U as z}from"./user-B6sdUoqO.js";import{C as R}from"./clock-X1SP7Hyn.js";import{c as T}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DuW70504.js";import"./useForwardExpose-DrilU4Ay.js";import"./users-DghIYMBj.js";import"./RovingFocusGroup-BIwBOwvo.js";const D=T("MapPinIcon",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),F={class:"flex h-full flex-1 flex-col gap-4 sm:gap-6 p-3 sm:p-6"},L={key:0,class:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2"},P={class:"flex items-start justify-between"},U={class:"flex items-center space-x-2 text-sm"},q={class:"flex items-center space-x-2 text-sm"},E={class:"flex items-center space-x-2 text-sm"},O={class:"pt-4 border-t"},Y={class:"flex justify-between items-center mb-2"},G={class:"w-full bg-gray-200 rounded-full h-2"},H={class:"flex justify-between text-xs text-muted-foreground mt-1"},J={key:1,class:"text-center py-12"},K={class:"grid gap-4 md:grid-cols-4"},Q={class:"text-center"},W={class:"text-2xl font-bold text-blue-600"},X={class:"text-center"},Z={class:"text-2xl font-bold text-green-600"},I={class:"text-center"},tt={class:"text-2xl font-bold text-purple-600"},et={class:"text-center"},st={class:"text-2xl font-bold text-orange-600"},ft=S({__name:"Classes",props:{classes:{},student:{}},setup(y){const b=y,w=[{title:"Dashboard",href:"/student/dashboard"},{title:"Classes",href:"#"}],d=$(()=>b.classes||[]),C=r=>r>=90?"text-green-600":r>=75?"text-yellow-600":"text-red-600",k=r=>r>=90?"default":r>=75?"secondary":"destructive";return(r,s)=>(u(),_(x,null,[n(a(M),{title:"My Classes"}),n(A,{breadcrumbs:w},{default:o(()=>[t("div",F,[s[8]||(s[8]=t("div",null,[t("h1",{class:"text-xl sm:text-2xl md:text-3xl font-bold"},"My Classes"),t("p",{class:"text-sm sm:text-base text-muted-foreground"},"View your enrolled classes and attendance summary")],-1)),d.value.length>0?(u(),_("div",L,[(u(!0),_(x,null,N(d.value,e=>(u(),B(a(f),{key:e.id,class:"hover:shadow-md transition-shadow"},{default:o(()=>[n(a(g),null,{default:o(()=>[t("div",P,[t("div",null,[n(a(v),{class:"text-lg"},{default:o(()=>[c(l(e.name),1)]),_:2},1024),n(a(h),{class:"font-mono text-sm"},{default:o(()=>[c(l(e.course_code||"N/A"),1)]),_:2},1024)]),n(a(V),{variant:k(e.attendance_rate||0)},{default:o(()=>[c(l(e.attendance_rate||0)+"% ",1)]),_:2},1032,["variant"])])]),_:2},1024),n(a(m),{class:"space-y-4"},{default:o(()=>[t("div",U,[n(a(z),{class:"h-4 w-4 text-muted-foreground"}),t("span",null,l(e.teacher_name||"No instructor assigned"),1)]),t("div",q,[n(a(R),{class:"h-4 w-4 text-muted-foreground"}),t("span",null,l(e.schedule_time||"No schedule set"),1)]),t("div",E,[n(a(D),{class:"h-4 w-4 text-muted-foreground"}),t("span",null,"Room "+l(e.room||"TBA"),1)]),t("div",O,[t("div",Y,[s[0]||(s[0]=t("span",{class:"text-sm font-medium"},"Attendance Rate",-1)),t("span",{class:p(["text-sm font-bold",C(e.attendance_rate||0)])},l(e.attendance_rate||0)+"% ",3)]),t("div",G,[t("div",{class:p(["h-2 rounded-full transition-all duration-300",(e.attendance_rate||0)>=90?"bg-green-500":(e.attendance_rate||0)>=75?"bg-yellow-500":"bg-red-500"]),style:j(`width: ${e.attendance_rate||0}%`)},null,6)]),t("div",H,[t("span",null,l(e.attended_sessions||0)+"/"+l(e.total_sessions||0)+" sessions",1),t("span",null,l((e.total_sessions||0)-(e.attended_sessions||0))+" missed",1)])])]),_:2},1024)]),_:2},1024))),128))])):(u(),_("div",J,[n(a(f),null,{default:o(()=>[n(a(m),{class:"py-12"},{default:o(()=>s[1]||(s[1]=[t("p",{class:"text-muted-foreground text-lg"},"No classes enrolled yet",-1),t("p",{class:"text-sm text-muted-foreground mt-2"},"Contact your administrator to enroll in classes",-1)])),_:1,__:[1]})]),_:1})])),n(a(f),null,{default:o(()=>[n(a(g),null,{default:o(()=>[n(a(v),null,{default:o(()=>s[2]||(s[2]=[c("Overall Summary",-1)])),_:1,__:[2]}),n(a(h),null,{default:o(()=>s[3]||(s[3]=[c("Your attendance across all classes",-1)])),_:1,__:[3]})]),_:1}),n(a(m),null,{default:o(()=>[t("div",K,[t("div",Q,[t("div",W,l(d.value.length),1),s[4]||(s[4]=t("div",{class:"text-sm text-muted-foreground"},"Total Classes",-1))]),t("div",X,[t("div",Z,l(Math.round(d.value.reduce((e,i)=>e+i.attendanceRate,0)/d.value.length))+"% ",1),s[5]||(s[5]=t("div",{class:"text-sm text-muted-foreground"},"Average Attendance",-1))]),t("div",I,[t("div",tt,l(d.value.reduce((e,i)=>e+i.attendedSessions,0)),1),s[6]||(s[6]=t("div",{class:"text-sm text-muted-foreground"},"Sessions Attended",-1))]),t("div",et,[t("div",st,l(d.value.reduce((e,i)=>e+(i.totalSessions-i.attendedSessions),0)),1),s[7]||(s[7]=t("div",{class:"text-sm text-muted-foreground"},"Sessions Missed",-1))])])]),_:1})]),_:1})])]),_:1})],64))}});export{ft as default};
