import{_ as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-nhODtu3I.js";import{d as C,a as u,o as r,b as a,e as n,h as F,w as i,f as t,i as o,t as d,k as b,F as g,g as v,j as z,n as h}from"./app-DJhTdyWz.js";import{_ as f,b as m,c as _,d as j,a as p}from"./CardTitle.vue_vue_type_script_setup_true_lang-CiVlNnhR.js";import{_ as c}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Br5brvuf.js";import{_ as N}from"./index-CmosZzEe.js";import"./useForwardExpose-DJLDsePr.js";import"./users-CiOcXBwN.js";import"./RovingFocusGroup-CvCTuZO-.js";/* empty css            */const S={class:"container mx-auto p-6 space-y-6"},B={class:"space-y-4"},D={class:"flex items-center gap-3"},V={class:"text-2xl"},A={class:"flex-1"},E={class:"font-medium"},M={class:"text-sm text-muted-foreground"},W={key:0,class:"text-sm text-muted-foreground"},I={class:"flex items-center gap-2"},L={class:"text-right"},P={class:"text-xs text-muted-foreground"},U={key:1,class:"text-center py-12"},q={key:0,class:"mt-6"},G={class:"flex justify-center"},H={class:"flex gap-2"},J={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},K={class:"text-2xl font-bold"},O={class:"text-2xl font-bold"},Q={class:"text-2xl font-bold"},R={class:"text-2xl font-bold"},ie=C({__name:"Files",props:{student:{},files:{}},setup(X){const y=[{title:"Student Dashboard",href:"/student/dashboard"},{title:"Files",href:"/student/files"}],w=s=>s.includes("image")?"ðŸ–¼ï¸":s.includes("video")?"ðŸŽ¥":s.includes("pdf")?"ðŸ“„":s.includes("doc")||s.includes("word")?"ðŸ“Š":s.includes("text")?"ðŸ“":s.includes("spreadsheet")||s.includes("excel")||s.includes("presentation")||s.includes("powerpoint")?"ðŸ“Š":"ðŸ“„",k=(s,e)=>{const l=document.createElement("a");l.href=`/student/files/download/${s}`,l.download=e,l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l)};return(s,e)=>(r(),u(g,null,[a(n(F),{title:"Student Files"}),a($,{breadcrumbs:y},{default:i(()=>[t("div",S,[e[19]||(e[19]=t("div",{class:"flex items-center justify-between"},[t("div",{class:"space-y-2"},[t("h1",{class:"text-3xl font-bold tracking-tight"},"Class Files"),t("p",{class:"text-muted-foreground"}," Download files uploaded by your teachers ")])],-1)),a(n(f),null,{default:i(()=>[a(n(m),null,{default:i(()=>[a(n(_),null,{default:i(()=>e[2]||(e[2]=[o("Available Files",-1)])),_:1,__:[2]}),a(n(j),null,{default:i(()=>[o(" Files from your enrolled classes ("+d(s.files.total)+" total) ",1)]),_:1})]),_:1}),a(n(p),null,{default:i(()=>[t("div",B,[s.files.data&&s.files.data.length>0?(r(!0),u(g,{key:0},v(s.files.data,l=>(r(),u("div",{key:l.id,class:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50"},[t("div",D,[t("div",V,d(w(l.file_type)),1),t("div",A,[t("p",E,d(l.original_name),1),t("p",M,d(l.formatted_size)+" â€¢ Uploaded "+d(l.formatted_date),1),l.description?(r(),u("p",W,d(l.description),1)):b("",!0)])]),t("div",I,[t("div",L,[a(n(N),{variant:"secondary",class:"mb-1"},{default:i(()=>[o(d(l.class_name),1)]),_:2},1024),t("p",P,d(l.teacher_name),1)]),a(n(c),{size:"sm",onClick:x=>k(l.id,l.original_name)},{default:i(()=>e[3]||(e[3]=[t("span",{class:"mr-1"},"â¬‡ï¸",-1),o(" Download ",-1)])),_:2,__:[3]},1032,["onClick"])])]))),128)):(r(),u("div",U,e[4]||(e[4]=[t("div",{class:"text-6xl mb-4"},"ðŸ“",-1),t("p",{class:"text-muted-foreground mb-2"},"No files available",-1),t("p",{class:"text-sm text-muted-foreground"}," Files uploaded by your teachers will appear here ",-1)])))]),s.files.last_page>1?(r(),u("div",q,[t("div",G,[t("div",H,[a(n(c),{variant:"outline",size:"sm",disabled:s.files.current_page===1,onClick:e[0]||(e[0]=l=>s.$inertia.visit("/student/files?page="+(s.files.current_page-1)))},{default:i(()=>e[5]||(e[5]=[o(" Previous ",-1)])),_:1,__:[5]},8,["disabled"]),(r(!0),u(g,null,v(Math.min(5,s.files.last_page),l=>(r(),z(n(c),{key:l,variant:"outline",size:"sm",class:h({"bg-primary text-primary-foreground":l===s.files.current_page}),onClick:x=>s.$inertia.visit("/student/files?page="+l)},{default:i(()=>[o(d(l),1)]),_:2},1032,["class","onClick"]))),128)),a(n(c),{variant:"outline",size:"sm",disabled:s.files.current_page===s.files.last_page,onClick:e[1]||(e[1]=l=>s.$inertia.visit("/student/files?page="+(s.files.current_page+1)))},{default:i(()=>e[6]||(e[6]=[o(" Next ",-1)])),_:1,__:[6]},8,["disabled"])])])])):b("",!0)]),_:1})]),_:1}),t("div",J,[a(n(f),null,{default:i(()=>[a(n(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:i(()=>[a(n(_),{class:"text-sm font-medium"},{default:i(()=>e[7]||(e[7]=[o("Total Files",-1)])),_:1,__:[7]}),e[8]||(e[8]=t("span",{class:"text-xl"},"ðŸ“",-1))]),_:1,__:[8]}),a(n(p),null,{default:i(()=>[t("div",K,d(s.files.total),1),e[9]||(e[9]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Available for download ",-1))]),_:1,__:[9]})]),_:1}),a(n(f),null,{default:i(()=>[a(n(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:i(()=>[a(n(_),{class:"text-sm font-medium"},{default:i(()=>e[10]||(e[10]=[o("Classes",-1)])),_:1,__:[10]}),e[11]||(e[11]=t("span",{class:"text-xl"},"ðŸ«",-1))]),_:1,__:[11]}),a(n(p),null,{default:i(()=>[t("div",O,d([...new Set(s.files.data.map(l=>l.class_name))].length),1),e[12]||(e[12]=t("p",{class:"text-xs text-muted-foreground mt-1"}," With available files ",-1))]),_:1,__:[12]})]),_:1}),a(n(f),null,{default:i(()=>[a(n(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:i(()=>[a(n(_),{class:"text-sm font-medium"},{default:i(()=>e[13]||(e[13]=[o("Teachers",-1)])),_:1,__:[13]}),e[14]||(e[14]=t("span",{class:"text-xl"},"ðŸ‘¨â€ðŸ«",-1))]),_:1,__:[14]}),a(n(p),null,{default:i(()=>[t("div",Q,d([...new Set(s.files.data.map(l=>l.teacher_name))].length),1),e[15]||(e[15]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Who uploaded files ",-1))]),_:1,__:[15]})]),_:1}),a(n(f),null,{default:i(()=>[a(n(m),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:i(()=>[a(n(_),{class:"text-sm font-medium"},{default:i(()=>e[16]||(e[16]=[o("Total Size",-1)])),_:1,__:[16]}),e[17]||(e[17]=t("span",{class:"text-xl"},"ðŸ’¾",-1))]),_:1,__:[17]}),a(n(p),null,{default:i(()=>[t("div",R,d((s.files.data.reduce((l,x)=>l+x.file_size,0)/(1024*1024)).toFixed(1))+" MB ",1),e[18]||(e[18]=t("p",{class:"text-xs text-muted-foreground mt-1"}," Combined file size ",-1))]),_:1,__:[18]})]),_:1})])])]),_:1})],64))}});export{ie as default};
