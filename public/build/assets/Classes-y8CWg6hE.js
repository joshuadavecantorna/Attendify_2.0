import{d as H,r as S,u as T,a as c,o as u,b as t,e,h as J,w as r,f as l,i,t as n,F as $,g as U,j as K,p as D,k as _,n as p,v as j,D as A,m as N}from"./app-DvD5lfuA.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-CbPEVQj7.js";import{_ as g,b as k,c as h,a as b,d as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-Bm7dENVJ.js";import{_ as v}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DuW70504.js";import{_ as X}from"./index-D5999L_P.js";import{_ as q}from"./Separator.vue_vue_type_script_setup_true_lang-Cy23tokA.js";import{_ as F,a as M,b as B,c as E,d as z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-5cdlHEvD.js";import{_ as R}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CZZ9sw84.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-CeFMmzl1.js";import{_ as f}from"./Label.vue_vue_type_script_setup_true_lang-Ex6JluKO.js";import{_ as Z}from"./Textarea.vue_vue_type_script_setup_true_lang-CF52yOxX.js";import{P as I}from"./plus-DmsARgtv.js";import{U as ee}from"./users-DghIYMBj.js";import{C as se}from"./clock-X1SP7Hyn.js";import{S as te}from"./square-pen-BnMGXX0M.js";import"./useForwardExpose-DrilU4Ay.js";import"./RovingFocusGroup-BIwBOwvo.js";const le={class:"container mx-auto p-6 space-y-6"},oe={class:"flex items-center justify-between"},re={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},de={class:"text-2xl font-bold"},ae={class:"text-2xl font-bold"},ie={class:"text-2xl font-bold"},ne={class:"text-2xl font-bold"},ue={key:0,class:"text-center py-8"},me={key:1,class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},ce={class:"space-y-3"},_e={class:"flex items-start justify-between"},fe={class:"flex-1"},pe={class:"font-semibold text-lg"},ye={class:"text-sm text-muted-foreground"},xe={class:"text-sm text-muted-foreground"},ve={class:"space-y-1 text-sm"},ge={class:"flex gap-2"},be={class:"grid grid-cols-2 gap-4"},Ce={class:"space-y-2"},Ve={key:0,class:"text-sm text-red-500"},ke={class:"space-y-2"},he={key:0,class:"text-sm text-red-500"},we={class:"grid grid-cols-3 gap-4"},$e={class:"space-y-2"},Se={key:0,class:"text-sm text-red-500"},Ue={class:"space-y-2"},Te={key:0,class:"text-sm text-red-500"},De={class:"space-y-2"},je={key:0,class:"text-sm text-red-500"},Ae={class:"grid grid-cols-2 gap-4"},Ne={class:"space-y-2"},qe={key:0,class:"text-sm text-red-500"},Fe={class:"space-y-2"},Me={key:0,class:"text-sm text-red-500"},Be={class:"space-y-2"},Ee={class:"flex flex-wrap gap-2"},ze=["value"],Re={class:"text-sm"},Ye={key:0,class:"text-sm text-red-500"},Le={class:"space-y-2"},Pe={key:0,class:"text-sm text-red-500"},We={class:"grid grid-cols-2 gap-4"},Ge={class:"space-y-2"},He={key:0,class:"text-sm text-red-500"},Je={class:"space-y-2"},Ke={key:0,class:"text-sm text-red-500"},Oe={class:"grid grid-cols-3 gap-4"},Qe={class:"space-y-2"},Xe={key:0,class:"text-sm text-red-500"},Ze={class:"space-y-2"},Ie={key:0,class:"text-sm text-red-500"},es={class:"space-y-2"},ss={key:0,class:"text-sm text-red-500"},ts={class:"grid grid-cols-2 gap-4"},ls={class:"space-y-2"},os={key:0,class:"text-sm text-red-500"},rs={class:"space-y-2"},ds={key:0,class:"text-sm text-red-500"},as={class:"space-y-2"},is={class:"flex flex-wrap gap-2"},ns=["value"],us={class:"text-sm"},ms={key:0,class:"text-sm text-red-500"},Ds=H({__name:"Classes",props:{teacher:{},classes:{}},setup(cs){const Y=[{title:"Teacher Dashboard",href:"/teacher/dashboard"},{title:"Classes",href:"/teacher/classes"}],C=S(!1),V=S(!1),w=S(null),a=T({name:"",class_code:"",section:"",subject:"",course:"",year:"",description:"",room:"",schedule_time:"",schedule_days:[],academic_year:"2024-2025",semester:"Fall"}),d=T({name:"",class_code:"",section:"",subject:"",course:"",year:"",description:"",room:"",schedule_time:"",schedule_days:[],academic_year:"2024-2025",semester:"Fall"}),L=()=>{a.reset(),C.value=!0},P=m=>{w.value=m,d.name=m.name||"",d.class_code=m.class_code||"",d.course=m.course||"",d.section=m.section||"",d.subject=m.subject||"",d.year=m.year||"",d.description=m.description||"",d.room=m.room||"",d.schedule_time=m.schedule_time||"",d.schedule_days=Array.isArray(m.schedule_days)?m.schedule_days:[],V.value=!0},W=()=>{a.post("/teacher/classes",{onSuccess:()=>{C.value=!1,a.reset(),N.reload()}})},G=()=>{w.value&&(console.log("Sending form data:",{room:d.room,schedule_time:d.schedule_time,schedule_days:d.schedule_days,name:d.name}),d.put(`/teacher/classes/${w.value.id}`,{onSuccess:()=>{console.log("Update successful"),V.value=!1,w.value=null,N.reload()},onError:m=>{console.log("Update errors:",m)}}))};return(m,s)=>(u(),c($,null,[t(e(J),{title:"Teacher Classes"}),t(O,{breadcrumbs:Y},{default:r(()=>[l("div",le,[l("div",oe,[s[22]||(s[22]=l("div",{class:"space-y-2"},[l("h1",{class:"text-3xl font-bold tracking-tight"},"Class Management"),l("p",{class:"text-muted-foreground"}," Manage your classes, students, and class materials ")],-1)),t(e(v),{onClick:L},{default:r(()=>[t(e(I),{class:"h-4 w-4 mr-2"}),s[21]||(s[21]=i(" Create New Class ",-1))]),_:1,__:[21]})]),l("div",re,[t(e(g),null,{default:r(()=>[t(e(k),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[t(e(h),{class:"text-sm font-medium"},{default:r(()=>s[23]||(s[23]=[i("Total Classes",-1)])),_:1,__:[23]}),s[24]||(s[24]=l("span",{class:"text-xl"},"ðŸ“š",-1))]),_:1,__:[24]}),t(e(b),null,{default:r(()=>[l("div",de,n(m.classes.length),1),s[25]||(s[25]=l("p",{class:"text-xs text-muted-foreground mt-1"}," Active classes ",-1))]),_:1,__:[25]})]),_:1}),t(e(g),null,{default:r(()=>[t(e(k),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[t(e(h),{class:"text-sm font-medium"},{default:r(()=>s[26]||(s[26]=[i("Total Students",-1)])),_:1,__:[26]}),s[27]||(s[27]=l("span",{class:"text-xl"},"ðŸ‘¥",-1))]),_:1,__:[27]}),t(e(b),null,{default:r(()=>[l("div",ae,n(m.classes.reduce((o,x)=>o+(x.student_count||25),0)),1),s[28]||(s[28]=l("p",{class:"text-xs text-muted-foreground mt-1"}," Across all classes ",-1))]),_:1,__:[28]})]),_:1}),t(e(g),null,{default:r(()=>[t(e(k),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[t(e(h),{class:"text-sm font-medium"},{default:r(()=>s[29]||(s[29]=[i("Active Classes",-1)])),_:1,__:[29]}),s[30]||(s[30]=l("span",{class:"text-xl"},"ðŸŸ¢",-1))]),_:1,__:[30]}),t(e(b),null,{default:r(()=>[l("div",ie,n(m.classes.filter(o=>o.is_active).length),1),s[31]||(s[31]=l("p",{class:"text-xs text-muted-foreground mt-1"}," Currently active ",-1))]),_:1,__:[31]})]),_:1}),t(e(g),null,{default:r(()=>[t(e(k),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:r(()=>[t(e(h),{class:"text-sm font-medium"},{default:r(()=>s[32]||(s[32]=[i("This Week",-1)])),_:1,__:[32]}),s[33]||(s[33]=l("span",{class:"text-xl"},"ðŸ“…",-1))]),_:1,__:[33]}),t(e(b),null,{default:r(()=>[l("div",ne,n(m.classes.length*3),1),s[34]||(s[34]=l("p",{class:"text-xs text-muted-foreground mt-1"}," Total sessions ",-1))]),_:1,__:[34]})]),_:1})]),t(e(g),null,{default:r(()=>[t(e(k),null,{default:r(()=>[t(e(h),null,{default:r(()=>s[35]||(s[35]=[i("Your Classes",-1)])),_:1,__:[35]}),t(e(Q),null,{default:r(()=>s[36]||(s[36]=[i("Manage and view details of your classes",-1)])),_:1,__:[36]})]),_:1}),t(e(b),null,{default:r(()=>[m.classes.length===0?(u(),c("div",ue,s[37]||(s[37]=[l("div",{class:"text-muted-foreground"},[l("span",{class:"text-4xl mb-4 block"},"ðŸ“š"),l("p",{class:"text-lg"},"No classes yet"),l("p",{class:"text-sm"},"Create your first class to get started")],-1)]))):(u(),c("div",me,[(u(!0),c($,null,U(m.classes,o=>(u(),K(e(g),{key:o.id,class:"hover:shadow-md transition-shadow"},{default:r(()=>[t(e(b),{class:"p-4"},{default:r(()=>[l("div",ce,[l("div",_e,[l("div",fe,[l("h3",pe,n(o.name),1),l("p",ye,n(o.course)+" - "+n(o.section),1),l("p",xe,n(o.year),1)]),t(e(X),{variant:o.is_active?"default":"secondary"},{default:r(()=>[i(n(o.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),t(e(q)),l("div",ve,[l("div",null,[s[38]||(s[38]=l("strong",null,"Schedule:",-1)),i(" "+n(o.schedule_time||"Not set"),1)]),l("div",null,[s[39]||(s[39]=l("strong",null,"Days:",-1)),i(" "+n(Array.isArray(o.schedule_days)&&o.schedule_days.length?o.schedule_days.join(", "):"Not set"),1)]),l("div",null,[s[40]||(s[40]=l("strong",null,"Room:",-1)),i(" "+n(o.room||"Not set"),1)]),l("div",null,[s[41]||(s[41]=l("strong",null,"Students:",-1)),i(" "+n(o.student_count),1)])]),t(e(q)),l("div",ge,[t(e(v),{size:"sm",variant:"default",onClick:x=>m.$inertia.visit(`/teacher/classes/${o.id}`)},{default:r(()=>[t(e(ee),{class:"h-4 w-4 mr-1"}),s[42]||(s[42]=i(" Students ",-1))]),_:2,__:[42]},1032,["onClick"]),t(e(v),{size:"sm",variant:"outline",onClick:x=>m.$inertia.visit(`/teacher/attendance/direct/${o.id}`)},{default:r(()=>[t(e(se),{class:"h-4 w-4 mr-1"}),s[43]||(s[43]=i(" Take Attendance ",-1))]),_:2,__:[43]},1032,["onClick"]),t(e(v),{size:"sm",variant:"outline",onClick:x=>P(o)},{default:r(()=>[t(e(te),{class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))]))]),_:1})]),_:1})]),t(e(F),{open:C.value,"onUpdate:open":s[10]||(s[10]=o=>C.value=o)},{default:r(()=>[t(e(M),{class:"sm:max-w-[600px]"},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(E),null,{default:r(()=>s[44]||(s[44]=[i("Create New Class",-1)])),_:1,__:[44]}),t(e(z),null,{default:r(()=>s[45]||(s[45]=[i(" Add a new class to your teaching schedule. ",-1)])),_:1,__:[45]})]),_:1}),l("form",{onSubmit:D(W,["prevent"]),class:"space-y-4"},[l("div",be,[l("div",Ce,[t(e(f),{for:"create-name"},{default:r(()=>s[46]||(s[46]=[i("Class Name *",-1)])),_:1,__:[46]}),t(e(y),{id:"create-name",modelValue:e(a).name,"onUpdate:modelValue":s[0]||(s[0]=o=>e(a).name=o),placeholder:"e.g., Data Structures and Algorithms",class:p({"border-red-500":e(a).errors.name}),required:""},null,8,["modelValue","class"]),e(a).errors.name?(u(),c("p",Ve,n(e(a).errors.name),1)):_("",!0)]),l("div",ke,[t(e(f),{for:"create-class-code"},{default:r(()=>s[47]||(s[47]=[i("Class Code *",-1)])),_:1,__:[47]}),t(e(y),{id:"create-class-code",modelValue:e(a).class_code,"onUpdate:modelValue":s[1]||(s[1]=o=>e(a).class_code=o),placeholder:"e.g., CS101",class:p({"border-red-500":e(a).errors.class_code}),required:""},null,8,["modelValue","class"]),e(a).errors.class_code?(u(),c("p",he,n(e(a).errors.class_code),1)):_("",!0)])]),l("div",we,[l("div",$e,[t(e(f),{for:"create-course"},{default:r(()=>s[48]||(s[48]=[i("Course *",-1)])),_:1,__:[48]}),t(e(y),{id:"create-course",modelValue:e(a).course,"onUpdate:modelValue":s[2]||(s[2]=o=>e(a).course=o),placeholder:"e.g., BSCS",class:p({"border-red-500":e(a).errors.course}),required:""},null,8,["modelValue","class"]),e(a).errors.course?(u(),c("p",Se,n(e(a).errors.course),1)):_("",!0)]),l("div",Ue,[t(e(f),{for:"create-section"},{default:r(()=>s[49]||(s[49]=[i("Section *",-1)])),_:1,__:[49]}),t(e(y),{id:"create-section",modelValue:e(a).section,"onUpdate:modelValue":s[3]||(s[3]=o=>e(a).section=o),placeholder:"e.g., A",class:p({"border-red-500":e(a).errors.section}),required:""},null,8,["modelValue","class"]),e(a).errors.section?(u(),c("p",Te,n(e(a).errors.section),1)):_("",!0)]),l("div",De,[t(e(f),{for:"create-year"},{default:r(()=>s[50]||(s[50]=[i("Year Level *",-1)])),_:1,__:[50]}),t(e(y),{id:"create-year",modelValue:e(a).year,"onUpdate:modelValue":s[4]||(s[4]=o=>e(a).year=o),placeholder:"e.g., 1st Year",class:p({"border-red-500":e(a).errors.year}),required:""},null,8,["modelValue","class"]),e(a).errors.year?(u(),c("p",je,n(e(a).errors.year),1)):_("",!0)])]),l("div",Ae,[l("div",Ne,[t(e(f),{for:"create-room"},{default:r(()=>s[51]||(s[51]=[i("Room",-1)])),_:1,__:[51]}),t(e(y),{id:"create-room",modelValue:e(a).room,"onUpdate:modelValue":s[5]||(s[5]=o=>e(a).room=o),placeholder:"e.g., Room 101",class:p({"border-red-500":e(a).errors.room})},null,8,["modelValue","class"]),e(a).errors.room?(u(),c("p",qe,n(e(a).errors.room),1)):_("",!0)]),l("div",Fe,[t(e(f),{for:"create-schedule-time"},{default:r(()=>s[52]||(s[52]=[i("Schedule Time",-1)])),_:1,__:[52]}),t(e(y),{id:"create-schedule-time",modelValue:e(a).schedule_time,"onUpdate:modelValue":s[6]||(s[6]=o=>e(a).schedule_time=o),placeholder:"e.g., 08:00-10:00",class:p({"border-red-500":e(a).errors.schedule_time})},null,8,["modelValue","class"]),e(a).errors.schedule_time?(u(),c("p",Me,n(e(a).errors.schedule_time),1)):_("",!0)])]),l("div",Be,[t(e(f),{for:"create-schedule-days"},{default:r(()=>s[53]||(s[53]=[i("Schedule Days",-1)])),_:1,__:[53]}),l("div",Ee,[(u(),c($,null,U(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o=>l("label",{key:o,class:"flex items-center space-x-2 cursor-pointer"},[j(l("input",{type:"checkbox",value:o,"onUpdate:modelValue":s[7]||(s[7]=x=>e(a).schedule_days=x),class:"rounded border-gray-300"},null,8,ze),[[A,e(a).schedule_days]]),l("span",Re,n(o),1)])),64))]),e(a).errors.schedule_days?(u(),c("p",Ye,n(e(a).errors.schedule_days),1)):_("",!0)]),l("div",Le,[t(e(f),{for:"create-description"},{default:r(()=>s[54]||(s[54]=[i("Description",-1)])),_:1,__:[54]}),t(e(Z),{id:"create-description",modelValue:e(a).description,"onUpdate:modelValue":s[8]||(s[8]=o=>e(a).description=o),placeholder:"Brief description of the class",class:p({"border-red-500":e(a).errors.description})},null,8,["modelValue","class"]),e(a).errors.description?(u(),c("p",Pe,n(e(a).errors.description),1)):_("",!0)]),t(e(R),null,{default:r(()=>[t(e(v),{type:"button",variant:"outline",onClick:s[9]||(s[9]=o=>C.value=!1)},{default:r(()=>s[55]||(s[55]=[i("Cancel",-1)])),_:1,__:[55]}),t(e(v),{type:"submit",disabled:e(a).processing},{default:r(()=>[i(n(e(a).processing?"Creating...":"Create Class"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]),t(e(F),{open:V.value,"onUpdate:open":s[20]||(s[20]=o=>V.value=o)},{default:r(()=>[t(e(M),{class:"sm:max-w-[600px]"},{default:r(()=>[t(e(B),null,{default:r(()=>[t(e(E),null,{default:r(()=>s[56]||(s[56]=[i("Edit Class",-1)])),_:1,__:[56]}),t(e(z),null,{default:r(()=>s[57]||(s[57]=[i(" Update class information. ",-1)])),_:1,__:[57]})]),_:1}),l("form",{onSubmit:D(G,["prevent"]),class:"space-y-4"},[l("div",We,[l("div",Ge,[t(e(f),{for:"edit-name"},{default:r(()=>s[58]||(s[58]=[i("Class Name *",-1)])),_:1,__:[58]}),t(e(y),{id:"edit-name",modelValue:e(d).name,"onUpdate:modelValue":s[11]||(s[11]=o=>e(d).name=o),class:p({"border-red-500":e(d).errors.name}),required:""},null,8,["modelValue","class"]),e(d).errors.name?(u(),c("p",He,n(e(d).errors.name),1)):_("",!0)]),l("div",Je,[t(e(f),{for:"edit-class-code"},{default:r(()=>s[59]||(s[59]=[i("Class Code *",-1)])),_:1,__:[59]}),t(e(y),{id:"edit-class-code",modelValue:e(d).class_code,"onUpdate:modelValue":s[12]||(s[12]=o=>e(d).class_code=o),class:p({"border-red-500":e(d).errors.class_code}),required:""},null,8,["modelValue","class"]),e(d).errors.class_code?(u(),c("p",Ke,n(e(d).errors.class_code),1)):_("",!0)])]),l("div",Oe,[l("div",Qe,[t(e(f),{for:"edit-course"},{default:r(()=>s[60]||(s[60]=[i("Course *",-1)])),_:1,__:[60]}),t(e(y),{id:"edit-course",modelValue:e(d).course,"onUpdate:modelValue":s[13]||(s[13]=o=>e(d).course=o),class:p({"border-red-500":e(d).errors.course}),required:""},null,8,["modelValue","class"]),e(d).errors.course?(u(),c("p",Xe,n(e(d).errors.course),1)):_("",!0)]),l("div",Ze,[t(e(f),{for:"edit-section"},{default:r(()=>s[61]||(s[61]=[i("Section *",-1)])),_:1,__:[61]}),t(e(y),{id:"edit-section",modelValue:e(d).section,"onUpdate:modelValue":s[14]||(s[14]=o=>e(d).section=o),class:p({"border-red-500":e(d).errors.section}),required:""},null,8,["modelValue","class"]),e(d).errors.section?(u(),c("p",Ie,n(e(d).errors.section),1)):_("",!0)]),l("div",es,[t(e(f),{for:"edit-year"},{default:r(()=>s[62]||(s[62]=[i("Year Level *",-1)])),_:1,__:[62]}),t(e(y),{id:"edit-year",modelValue:e(d).year,"onUpdate:modelValue":s[15]||(s[15]=o=>e(d).year=o),class:p({"border-red-500":e(d).errors.year}),required:""},null,8,["modelValue","class"]),e(d).errors.year?(u(),c("p",ss,n(e(d).errors.year),1)):_("",!0)])]),l("div",ts,[l("div",ls,[t(e(f),{for:"edit-room"},{default:r(()=>s[63]||(s[63]=[i("Room",-1)])),_:1,__:[63]}),t(e(y),{id:"edit-room",modelValue:e(d).room,"onUpdate:modelValue":s[16]||(s[16]=o=>e(d).room=o),class:p({"border-red-500":e(d).errors.room})},null,8,["modelValue","class"]),e(d).errors.room?(u(),c("p",os,n(e(d).errors.room),1)):_("",!0)]),l("div",rs,[t(e(f),{for:"edit-schedule-time"},{default:r(()=>s[64]||(s[64]=[i("Schedule Time",-1)])),_:1,__:[64]}),t(e(y),{id:"edit-schedule-time",modelValue:e(d).schedule_time,"onUpdate:modelValue":s[17]||(s[17]=o=>e(d).schedule_time=o),class:p({"border-red-500":e(d).errors.schedule_time})},null,8,["modelValue","class"]),e(d).errors.schedule_time?(u(),c("p",ds,n(e(d).errors.schedule_time),1)):_("",!0)])]),l("div",as,[t(e(f),{for:"edit-schedule-days"},{default:r(()=>s[65]||(s[65]=[i("Schedule Days",-1)])),_:1,__:[65]}),l("div",is,[(u(),c($,null,U(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],o=>l("label",{key:o,class:"flex items-center space-x-2 cursor-pointer"},[j(l("input",{type:"checkbox",value:o,"onUpdate:modelValue":s[18]||(s[18]=x=>e(d).schedule_days=x),class:"rounded border-gray-300"},null,8,ns),[[A,e(d).schedule_days]]),l("span",us,n(o),1)])),64))]),e(d).errors.schedule_days?(u(),c("p",ms,n(e(d).errors.schedule_days),1)):_("",!0)]),t(e(R),null,{default:r(()=>[t(e(v),{type:"button",variant:"outline",onClick:s[19]||(s[19]=o=>V.value=!1)},{default:r(()=>s[66]||(s[66]=[i("Cancel",-1)])),_:1,__:[66]}),t(e(v),{type:"submit",disabled:e(d).processing},{default:r(()=>[i(n(e(d).processing?"Updating...":"Update Class"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Ds as default};
